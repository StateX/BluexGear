
[Data]
life = 2000
attack = 100
defence = 100
fall.defence_up = 0
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 100
power = 5000
IntPersistIndex = 15,45,30,37
FloatPersistIndex = 39

[Size]
xscale = .5           ;水平方向の縮尺（通常１）
yscale = .5           ;垂直方向の縮尺（通常１）
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 19    ;キャラの幅(前方,地上)
air.back = 12        ;キャラの幅(後方,空中)
air.front = 10       ;キャラの幅(前方,空中)
height = 65          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -105   ;頭の大体の座標
mid.pos = -5, -60    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.4
walk.back = -2.0
run.fwd  = 9.1, 0
runjump.fwd = 5.2,-10.9
jump.neu = 0,-11
jump.back = -2.6
jump.fwd = 2.6
airjump.fwd = 3.2,-9.9
airjump.back = -3.2,-9.9
airjump.neu = 0,-9.9

[Movement]
airjump.num = 1
airjump.height = 40
yaccel = .654
stand.friction = .8
crouch.friction = .8


; Time over
[Statedef 170]
type = S
anim = 170

[State 170, 1]
type = AssertSpecial
trigger1 = Time = [0,110]
flag = RoundNotOver

; 勝利
[Statedef 180]
type = S

[State 180, 2]
type = ChangeState
trigger1 = MatchOver = 0
value = 181

[State 180, 3]
type = ChangeState
trigger1 = MatchOver = 1
value = 182

;---------------------------------------------------------------------------
; 勝利ポーズ1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 0]
type = AssertSpecial
trigger1 = animelemtime(20) < 20
flag = RoundNotOver

[state 190,1]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,5


[State 182, セリフ]
type = PlaySnd
trigger1 = Animelem = 10
value = 180,var(1)
channel = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝利ポーズ2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 0]
type = AssertSpecial
trigger1 = Time = [0,260]
flag = RoundNotOver


[state 190,1]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,5


[State 182, セリフ]
type = PlaySnd
trigger1 = Animelem = 4
value = 180,var(1)
channel = 0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝利ポーズ3
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 0]
type = AssertSpecial
trigger1 = Time = [0,290]
flag = RoundNotOver

[State 183, セリフ]
type = PlaySnd
trigger1 = Animelem = 5
value = 182,var(1)
channel = 0

[State 183, セリフ]
type = varrandom
trigger1 = Animelem = 1
v = 1
range = 1,3

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; Pre-fight intro
[Statedef 191]
type = S
movetype = I
physics = S
velset = 0

[State 191, 1]
type = powerset
trigger1 = time = 0
value = 1000

[state 190,1]
type = varrandom
trigger1 = time = 0
v = 2
range = 0,4

[state 190,1]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,2

[State 191, 1] 
type = ChangeAnim
trigger1 = time = 1
value = 190+var(1)

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 240, 3];火柱１本目
type = Explod
trigger1 = anim = 190 && animelem = 2
pos = -26, 0
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
anim = 8001
ID = 190
persistent = 0
ignorehitpause = 1

[State 240, 3];火柱１本目
type = playsnd
trigger1 = anim = 190 && animelem = 2
value = 1100,10

[State 1000, 3]
type = Projectile
trigger1 = anim = 192 && animelem =11
projscale = const(size.xscale),const(size.yscale)
projanim = 8000
projID = 190
postype = p1
offset = 15,-132
velocity = 0,-10

[State 240, 3];
type = Explod
trigger1 = anim = 192 && animelem = 14
pos = 1, -240
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
anim = 8000
removetime = 100
ID = 191
persistent = 0
ignorehitpause = 1
velocity = 0,10
scale = const(size.xscale),const(size.yscale)

[State 240, 3];
type = removeExplod
trigger1 = anim = 192 && animelemtime(16) > 0
ID = 191
persistent = 0
ignorehitpause = 1


[State 191, セリフ]
type = PlaySnd
trigger1 = anim = 192 && animelem = 18
value = 190,var(2)

channel = 0

[State 191, セリフ]
type = PlaySnd
trigger1 = anim = 190 && animelem = 13
value = 190,var(2)

channel = 0

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 9 && anim = 191
value = 190,var(2)

channel = 0

[State 191, 3] 
type = ChangeState
trigger1 = time = 1
trigger1 = p2name = "ino" || p2name = "slayer"
value = 193

[State 191, 3] 
type = ChangeState
trigger1 = time = 1
trigger1 = p2name = "ky"
value = 194

[State 191, 3] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Pre-fight intro
[Statedef 193]
type = S
movetype = I
physics = S
velset = 0

[state 1,1]
type = posadd
trigger1 = time = 0 && p2name = "slayer"
x = -40

[state 1,1]
type = posadd
trigger1 = animelem = 11 || animelem = 12 || animelem = 13 || animelem = 14
trigger1 = anim = 194
x = 10

[State 191, 1]
type = powerset
trigger1 = time = 0
value = 1000

[state 190,1]
type = varrandom
trigger1 = time = 0
v = 2
range = 0,1

[state 190,1]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,2

[State 191, 1] 
type = ChangeAnim
trigger1 = time = 0 && p2name = "slayer"
value = 194


[State 191, 1] 
type = ChangeAnim
trigger1 = animtime = 0 && anim = 194 && p2name = "slayer"
trigger2 = time = 0 && p2name = "ino"
value = 190

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 240, 3];火柱１本目
type = Explod
trigger1 = animelem = 2 && anim = 190
pos = 0, 0
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
anim = 8001
ID = 190
persistent = 0
ignorehitpause = 1

[State 240, 3]
type = Explod
trigger1 = animelem = 6 && anim = 194
pos = 120,-75
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
anim = 3001
ID = 190
persistent = 0
ignorehitpause = 1

[State 240, 3]
type = gamemakeanim
trigger1 = animelem = 6 && anim = 194
pos = 120,-75
persistent = 0
ignorehitpause = 1
value = 9

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 13 && p2name = "ino" 
value = 191,var(2)
channel = 0
volume = 200

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 13 && p2name = "slayer"  && anim = 190
value = 192,var(2)
channel = 0
volume = 200

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 6 && p2name = "slayer"  && anim = 194
value = 280,0
channel = 0

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 6 && p2name = "slayer"  && anim = 194
value = f6,1
channel = 1

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 6 && p2name = "slayer"  && anim = 194
value = f5,31
channel = 2

[State 191, 3] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Pre-fight intro
[Statedef 194]
type = S
movetype = I
physics = S
velset = 0
anim = 188

[State 191, 1]
type = powerset
trigger1 = time = 0
value = 1000

[State 194, 3]
type = helper
trigger1 = AnimElemTime(1) = 0
ignorehitpause = 0
persistent = 0
sprpriority = 5
pos = 230,0
priority = 10
ownpal = 1;コレが無いとヘルパーの色変化が出来ない
stateno = ifelse(facing = 1,8100,8010)
ID = 194
name = "op"

[State 191, 3] 
type = ChangeState
trigger1 = numhelper(194) = 0
value = 0

; 開始ソル
[Statedef 8010]
type = S
movetype = A
physics = N
anim = 8010
ctrl = 0

[state 1,1]
type = turn
trigger1 = time = 0

[state 1,1]
type = velset
trigger1 = animelemtime(15) < 0
x = 2

[state 1,1]
type = velset
trigger1 = animelemtime(15) = 0
x = 0

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 16
value = 190,random%2
channel = 0

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 8015

[Statedef 8015]
type = S
movetype = A
physics = N
anim = 106
velset = 0
ctrl = 0
juggle = 0

[state 1,1]
type = turn
trigger1 = time = 0

[state 1,1]
type = velset
trigger1 = time = 1
x = -6.5
y = -6

[state 1,1]
type = veladd
trigger1 = time > 2
y = 0.5

[State 260, 4]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 8016

[Statedef 8016]
type = S
movetype = A
physics = S
anim = 107
velset = 0
ctrl = 0
juggle = 0

[state 1,1]
type = posset
trigger1 = time = 0
y = 0

[state 1,1]
type = velset
trigger1 = time = 0
y = 0


[State 260, 4]
type = ChangeState
trigger1 = animtime = 0
value = 8020

;バンディットブリンガー
[Statedef 8020]
type = A
movetype = A
physics = N
anim = 8020
poweradd = 0
ctrl = 0
juggle = 0

[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(3) = 0
pos = -26, -82
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1436
ID = 1430
persistent = 0
ignorehitpause = 1
bindtime = -1
removetime = 6
scale = const(size.xscale),const(size.yscale)

[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(4) = 0
pos = -10, -91
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1436
ID = 1430
persistent = 0
ignorehitpause = 1
bindtime = -1
removetime = 13
scale = const(size.xscale),const(size.yscale)

[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(5) = 0
pos = 6, -77
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1437
ID = 1430
persistent = 0
ignorehitpause = 1
bindtime = -1
scale = const(size.xscale),const(size.yscale)



[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(6) = 0
pos = 56, -13
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
velocity = 4,4
anim = 1435
ID = 1430
persistent = 0
ignorehitpause = 1
;bindtime = 6
scale = const(size.xscale),const(size.yscale)

[State 240, 3];
type = Explod
trigger1 = animelemtime(6) = 0
postype = left
pos = 160, 60
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
velocity = 0,0
anim = f169
ID = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = f6,2

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1430,10

[state 1,1]
type = veladd
trigger1 = animelem = 3
y = -11
x = 6.5

[state 1,1]
type = veladd
trigger1 = animelemtime(3) > 0
y = .55

[State 1300, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 8025

;グランドバイパー
[Statedef 8025]
type = C
movetype = A
physics = S
anim = 8025
poweradd = 0
ctrl = 0
juggle = 0


[state -2,varset]
type = posset
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
y = 0

[state -2,varset]
type = velset
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
y = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemtime(1) = 1
value = f47,0

[state 1,1]
type = turn
trigger1 = animelem = 3

[state 1,1]
type = ChangeState
trigger1 = animtime = 0
value = 8030

[Statedef 8030]
type = S
movetype = A
physics = N
anim = 100
velset = 0
ctrl = 0
juggle = 0

[state 1,1]
type = veladd
trigger1 = 1
x = 0.7

[State 260, 4]
type = ChangeState
trigger1 = pos x < 40 && parent,var(15) = 1
trigger2 = pos x > -40 && parent,var(15) = 2
value = 8040

[Statedef 8040]
type    = U
movetype= A
physics = N
juggle  = 1
poweradd= 0
velset = 0,0
anim = 1100
ctrl = 0
;sprpriority = 2


[State 1000, 7];
type = velset
trigger1 = time = 0
y = 0

[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 5

[State 240, 3];
type = Explod
trigger1 = animelemtime(3) = 0
postype = left
pos = 160, 180
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
velocity = 0,0
anim = f169
ID = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = f6,2

[State 2, ga3];ヴォルカニックヴァイパー開始音
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100, 10
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

;++++++++++++++++++++++++++++++
[State 200, 0];声
type = VarRandom
trigger1 = time= 0
v = 3
range = 0,2

[State 200, 1];ヴォルカニックヴァイパー
type = PlaySnd
trigger1 = Animelem = 1
value = 1100, var(3);
channel = 0

;++++++++++++++++++++++++++++++
;********************************
[State 1];ヴォルカニックヴァイパー　封炎剣　炎１
type = Explod
trigger1 = AnimElem = 2
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1145
ID = 1145
RemoveTime = 3
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎１消去
type = RemoveExplod
trigger1 = AnimElem = 3
ignorehitpause = 1
ID = 1145
[State 1];ヴォルカニックヴァイパー　封炎剣　炎２
type = Explod
trigger1 = AnimElem = 3
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 50
ownpal = 1
anim = 1146
ID = 1146
RemoveTime = 12
BindTime = -1
;********************************


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 8045
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  地上Ｓ　上昇
[Statedef 8045]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1110
ctrl = 0
;sprpriority = 2


[State 1000, 7];速度
type = veladd
trigger1 = Time = 0
x = 2.5

[State 1000, 7];上昇度
type = velset
trigger1 = (Time = [3,5]) 
y = -10

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 0
y = 0.6


;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = AnimElem = 1
ignorehitpause = 1
ID = 1146
[State 1];ヴォルカニックヴァイパー　封炎剣　炎３
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1147
ID = 1147
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎３消去１フレ以下だけど剣が見えるのを阻止
type = RemoveExplod
trigger1 = AnimElemTime(2) >= 2
ignorehitpause = 1
ID = 1147

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時1
type = Explod
trigger1 = NumExplod(1148) = 0
trigger1 = AnimElemTime(2) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1148
ID = 1148
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時1消去
type = RemoveExplod
trigger1 = AnimElemTime(2) != [1,3]
ignorehitpause = 1
ID = 1148

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時2
type = Explod
trigger1 = NumExplod(1149) = 0
trigger1 = AnimElemTime(3) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1149
ID = 1149
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時2消去
type = RemoveExplod
trigger1 = AnimElemTime(3) != [1,3]
ignorehitpause = 1
ID = 1149

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時3
type = Explod
trigger1 = NumExplod(1150) = 0
trigger1 = AnimElemTime(4) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1150
ID = 1150
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時3消去
type = RemoveExplod
trigger1 = AnimElemTime(4) != [1,3]
ignorehitpause = 1
ID = 1150
;********************************
;********************************
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-170
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 10
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-140
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-100
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス4
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-60
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス5
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-20
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス6
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 10,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス7
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス8
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 20,-40
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス10
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-60
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
;********************************


[State 1000, 7];ヴォルカニックヴァイパー  全  終了動作　叩き落し出来る時間へ
type = ChangeState
trigger1 = Time = 13+(var(1)*2)
value = 8050
ctrl = 0

[Statedef 8050]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1120
ctrl = 0
;sprpriority = 2

;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時1　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1148
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時2　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1149
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時3　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1150
[State 1];ヴォルカニックヴァイパー　封炎剣　炎　終了
type = Explod
trigger1 = AnimElem = 2
pos = 0,20
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1151
ID = 1151
vel = 0,-3
;********************************

[State 1000, 7];重力　通常
type = veladd
triggerall = Var(19)     = 0
trigger1   = Time       >= 0
y = 0.5

[State 1000, 7];重力　叩き落し出来る時
type = veladd
triggerall = Var(19)     = 10
trigger1   = Time       >= 0
y = 0.30


[State 1000, 7];ヴォルカニックヴァイパー  全  落下へ
type = ChangeState
trigger1 = AnimTime = 0
value = 8055
ctrl = 0

                                    ヴォルカニックヴァイパー  全　　落下
[Statedef 8055]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1130
ctrl = 0
;sprpriority = 2

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 0
y = 0.65

[State 1000, 7];ヴォルカニックヴァイパー  全  着地へ
type = ChangeState
trigger1 = Pos Y >= 0.5
trigger1 = Vel Y >  0
value = 8060
ctrl = 0

                                    ヴォルカニックヴァイパー  全　　着地
[Statedef 8060]
type    = C
movetype= I
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1140
ctrl = 0
;sprpriority = 2

[State 1000, 7]
type = Velset
trigger1 = Time >= 0
x = 0
y = 0

[State 1000, 7]
type = Posset
trigger1 = Time  >= 0
trigger1 = Pos Y != 0
y = 0

[State 240, 3];
type = Explod
trigger1 = animelem = 2
pos = 0,0
persistent = 0
ignorehitpause = 0
sprpriority = 5
bindtime = -1
ownpal = 1
anim = 8060
;removetime = 2
ID = 130
scale = const(size.xscale),const(size.yscale)
removeongethit = 1

[State 2 ,2];着地音
type = PlaySnd
trigger1 = time = 0
value = f47, 0;
channel = 2
ignorehitpause = 1
persistent = 0

[State 1000, 7];立ちへ
type = destroyself
trigger1 = AnimTime = 0


; 開始ソル2
[Statedef 8100]
type = S
movetype = A
physics = N
anim = 8100
ctrl = 0

[state 1,1]
type = posset
trigger1 = time = 0
x = 70

[state 1,1]
type = turn
trigger1 = time = 0

[State 191, セリフ]
type = PlaySnd
trigger1 = animelem = 13
value = 190,random%2
channel = 0

[State 240, 3];火柱１本目
type = Explod
trigger1 = animelem = 2
pos = -26, 0
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
anim = 8001
ID = 1
persistent = 0
ignorehitpause = 1

[State 2, ga3];ヴォルカニックヴァイパー開始音
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100, 10
Volume = 200
;channel = 1
persistent = 0
ignorehitpause = 1

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 8110

;グランドバイパー
[Statedef 8110]
type = C
movetype = A
physics = S
anim = 8110
poweradd = 0
ctrl = 0
juggle = 0


[State 1300, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 8115

;グランドバイパー
[Statedef 8115]
type = C
movetype = A
physics = N
anim = 1710
poweradd = 0
ctrl = 0
juggle = 0


[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemtime(1) = 1
value = 1450,10

[State 1];炎のエフェクト
type = Explod
trigger1 = AnimElemtime(1) = 1
persistent = 1
pos = 40,-15
facing = 1
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1703
ID = 1700
Vel = -2


[state 1,1]
type = veladd
trigger1 = 1
x = 0.5

[state 1,1]
type = velset
trigger1 = time = 0
y = 0
x = 9

[state 1,1]
type = ChangeState
trigger1 = time = 10
value = 8117

;硬直
[Statedef 8117]
type = C
movetype = I
physics = S
anim = 8115
poweradd = 0
ctrl = 0
juggle = 0

[State 240, 3];
type = Explod
trigger1 = animelemtime(1) = 0
postype = left
pos = 160, 150
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
velocity = 0,0
anim = f169
ID = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = f6,2

[State 1000, Effect]
type = PlaySnd
trigger1 = animelemtime(6) = 0
value = 3000,10

[state 1,1]
type = ChangeState
trigger1 = animtime = 0
value = 8120


[Statedef 8120]
type = S
movetype = A
physics = N
anim = 100
velset = 0
ctrl = 0
juggle = 0

[state 1,1]
type = turn
trigger1 = time = 0

[state 1,1]
type = veladd
trigger1 = 1
x = 0.8

[State 260, 4]
type = ChangeState
trigger1 = pos x > -70
value = 8130

;タイランレイブ
[statedef 8130]
type = S
movetype = A
physics = S
anim  = 8130
ctrl = 0
poweradd = 0
facep2 = 1
juggle = 0
velset = 0,0

[state 1,1]
type = posset
trigger1 = 1
x = -70


[State 1100, 7]
type = VelSet
trigger1 = time = 0
y = 0
x = 0

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,10



[State 240, 3];タイランレイブ　手の炎　１
type = Explod
trigger1 = AnimElem = 5
pos = 55,-109
postype = p1
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
bindtime = -1
anim = 3002
ID = 2000
scale = const(size.xscale),const(size.yscale)



[State 1060, 5]
type = Projectile
trigger1 = AnimElem = 11
projanim = 3003
projhitanim = 3003
projremovetime = 45
projscale = const(size.xscale),const(size.yscale)
projID = 2200
postype = p1
offset = 120,-75
velocity = 0.1
accel = 0.02,0
getpower = 0,0


[State 240, 3];
type = Explod
trigger1 = animelemtime(11) = 0
postype = left
pos = 160, 150
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
velocity = 0,0
anim = f169
ID = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 11
value = f6,2

[State 240, 3];
type = Explod
trigger1 = animelem = 19
pos = 0,0
persistent = 0
ignorehitpause = 0
sprpriority = 5
bindtime = -1
ownpal = 1
anim = 8140
;removetime = 2
ID = 130
scale = const(size.xscale),const(size.yscale)
removeongethit = 1

[State 310, ChangeState]
type = destroyself
trigger1 = animtime = 0



; Taunt
[Statedef 195]
type = S
movetype = A
physics = S
anim = ifelse(random < 250,195,ifelse((random = [250,500]),196,197))
velset = 0
ctrl = 0

[state 195,random]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,3

[state 195,0]
type = varadd
trigger1 = time > 0
trigger1 = var(17) > 0
v = 17
value = -1

[State 195, poweradd];
type = varadd
trigger1 = 1
v = 41
value = 2

[State 195, 1]
type = PlaySnd
trigger1 = Time = 3
value = ifelse(anim != 197,195,197),var(1)
channel = 0



[State 195, 2]
type = CtrlSet
trigger1 = time = 60
value = 1

[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Taunt
[Statedef 197]
type = S
movetype = A
physics = S
anim = 199
velset = 0
ctrl = 0

[state 195,random]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,3

[state 195,0]
type = varadd
trigger1 = time > 0
trigger1 = var(17) > 0
v = 17
value = -1

[State 195, poweradd];
type = varadd
trigger1 = 1
v = 41
value = 2

[State 195, 1]
type = null;PlaySnd
trigger1 = Time = 3
value = ifelse(anim != 197,195,197),var(1)
channel = 0


[State 195, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing light punch
[Statedef 200]
type = S
movetype = A
anim = ifelse(var(4) = 0,200,201)
ctrl = 0
poweradd= 2
juggle = 1
physics = S


[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random < 750
value = 200,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = f10,0

[State 200, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = SC, NA
animtype = light
damage = 30
guardflag = M
pausetime = 8,8
guard.pausetime = 8,8
sparkno = 1
sparkxy = -2,-77
hitsound = 5,0
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 14
guard.hittime = 15
ground.velocity = -5*fvar(15)
ground.cornerpush.veloff = -5*fvar(15)
air.velocity = -6,-6
air.fall = 1


[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1


; Standing light punch (close)
[Statedef 220]
type = S
movetype = A
anim = ifelse(var(4) = 0,220,221)
ctrl = 0
poweradd= 30
juggle = 1
physics = S

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 3
trigger1 = random < 750
value = 220,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2 
value = f10,1

[State 210, 3]
type = HitDef
trigger1 = AnimElemtime(3) >= 0 && anim = 220
persistent = 0
attr = S, NA
animtype = medium
damage = 90
guardflag = M
pausetime = 9,ifelse(p2movetype = A,18,ifelse(prevstateno = 240,15,13))
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -1,-61
hitsound = 5,9
guardsound = 6,0
ground.type = low
ground.slidetime = 8
ground.hittime = 12
guard.hittime = 16
ground.velocity = -12*fvar(15)
ground.cornerpush.veloff = -4*fvar(15)
air.velocity = -6,-6
air.fall = 1
fall.recover = ifelse(p2movetype != A,1,0)

[State 210, 3]
type = HitDef
trigger1 = AnimElem = 3 && var(4) != 0
attr = S, NA
animtype = medium
damage = 90
guardflag = M
pausetime = 9,ifelse(p2movetype = A,18,9)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -1,-61
hitsound = 5,9
guardsound = 6,0
ground.type = low
ground.slidetime = 8
ground.hittime = 12
guard.hittime = 13
ground.velocity = -12*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
air.velocity = -6,-6
air.fall = 1
fall.recover = ifelse(p2movetype != A,1,0)

[state 1,movetype]
type = statetypeset
trigger1 = animelem = 4
movetype = I


[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1


; Standing light kick
[Statedef 210]
type = S
movetype = A
anim = ifelse(var(4) = 0,210,211)
ctrl = 0
poweradd= 2
juggle = 1
physics = S
facep2 = 1


[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = random < 750
value = 210,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = f10,0

[State 220, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = SC, NA
animtype = light
damage = 30
guardflag = M
pausetime = 11,11
sparkno = 1
sparkxy = 0,-70
hitsound = 5,1
guardsound = 6,0
ground.type = low
ground.slidetime = 9
ground.hittime = 8
guard.hittime = 15
ground.velocity = -6*fvar(15)
ground.cornerpush.veloff = -2*fvar(15)
air.velocity = -4,-6
guard.velocity = -10
hitflag = MAF
down.hittime = 20
down.velocity = 0,0
air.fall = 1
fall.recover = 1

[state 230,1]
type = statetypeset
trigger1 = AnimElem = 4
movetype = I

[State 230, 3]
type = HitDef
trigger1 = AnimElemtime(3) >= 0
persistent = 0
attr = S, NA
animtype = medium
damage = ifelse(p2movetype != A,30,80)
guardflag = M
pausetime = 11,ifelse(p2movetype != A,11,20)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -5,-90
hitsound = 5,21
guardsound = 6,0
ground.type = high
ground.slidetime = 12
ground.hittime = ifelse(p2movetype != A,12,15)
ground.velocity = -7*fvar(15)
ground.cornerpush.veloff = -3*fvar(15)
air.velocity = -2,ifelse(p2movetype != A,-6,-7)
air.animtype = up
hitflag = MAF
air.fall = 1
fall.recover = 1;ifelse(p2movetype != A,1,0)

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1


; 中Ｋ
[Statedef 230]
type = S
movetype = A
anim = ifelse(prevstateno = 210 && var(4) = 0,231,ifelse(prevstateno = 210 && var(4) != 0,233,ifelse(prevstateno != 210 && var(4) = 0,230,232)))
ctrl = 0
poweradd= 30
juggle = 1
physics = S
movehitpersist = 1


[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 230,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = f10,1

[state 230,1]
type = statetypeset
trigger1 = AnimElem = 4 && anim = 230
trigger2 = AnimElem = 3 && anim = 231
movetype = I

[State 230, 3]
type = HitDef
trigger1 = AnimElem = 3 && (anim = 230 || anim = 232)
trigger2 = AnimElem = 2 && (anim = 231 || anim = 233)
attr = S, NA
animtype = medium
damage = ifelse(p2movetype != A,60,80)
guardflag = M
pausetime = 9,ifelse(p2movetype != A,13,20)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -5,-90
hitsound = 5,21
guardsound = 6,0
ground.type = high
ground.slidetime = 12
ground.hittime = ifelse(p2movetype != A,12,15)
ground.velocity = -9*fvar(15)
ground.cornerpush.veloff = -3*fvar(15)
air.velocity = -2,ifelse(p2movetype != A,-6,-8)
air.animtype = up
hitflag = MAF
air.fall = 1
fall.recover = 1;ifelse(p2movetype != A,1,0)

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1

; 中Ｋ
[Statedef 235]
type = S
movetype = A
anim = ifelse(var(4) = 0,235,236)
ctrl = 0
poweradd= 30
juggle = 1
physics = S



[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1


[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 230,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 2
value = f10,1

[state 230,1]
type = statetypeset
trigger1 = AnimElem = 6
movetype = I

[state 1,1]
type = nothitby
trigger1 = animelemtime(5) < 2
value = ,NT,ST,HT

[State 230, 3]
type = HitDef
trigger1 = AnimElemtime(5) >= 0
persistent = 0
attr = S, NA
animtype = up
damage = ifelse(p2movetype != A,160,220)
guardflag = M
pausetime = 12,ifelse(p2movetype != A,13,20)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -5,-90
hitsound = 5,21
guardsound = 6,0
ground.type = high
ground.slidetime = 12
ground.hittime = ifelse(p2movetype != A,12,15)
ground.velocity = -1,-11
air.velocity = -1,-11
air.animtype = up
hitflag = MAF
ground.cornerpush.veloff = -4*fvar(15)
fall = 1
fall.recover = 1;ifelse(p2movetype != A,1,0)
fall.recovertime = ifelse(p2movetype = A || p2statetype = C,60,25)

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1





; Standing forward light kick (landing)
[Statedef 240]
type = S
movetype = A
anim = ifelse(var(4) = 0,240,241)
poweradd = 40
ctrl = 0
juggle = 1
physics = S



[state -2,varset]
type = varadd
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[state -2,varset]
type = varset
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(55) = 1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 240,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 4
value = f10,2

[state 1,movetype]
type = statetypeset
trigger1 = animelem = 6
movetype = I

[state 1,1]
type = posadd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3
x = 6

[State 260, 3]
type = HitDef
trigger1 = AnimElemtime(5) >= 0 && anim = 240
persistent = 0
attr = A, NA
animtype = hard
damage = 120
guardflag = M
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 12,ifelse(p2movetype != A,15,22)
sparkxy = -2,-49
hitsound = 5,3
guardsound = 6,0
ground.type = low
ground.slidetime = 18
ground.hittime = 22
ground.velocity = -14*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
guard.velocity = -12
air.velocity = -6.2,-9
fall = ifelse(p2statetype = C && p2movetype != A && var(55) = 0,0,1)
fall.recover = 0
air.fall = 1
p2stateno = ifelse(p2movetype = A,4840,ifelse(var(55) = 0 && p2statetype = C,4930,ifelse(var(55) = 0 && p2statetype != C,4810,4820)))
p2facing = 1

[State 260, 3]
type = HitDef
trigger1 = AnimElemtime(5) >= 0 && anim = 241
persistent = 0
attr = A, NA
animtype = hard
damage = 100
guardflag = M
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 12,ifelse(p2movetype != A,12,22)
sparkxy = -2,-49
hitsound = 5,3
guardsound = 6,0
ground.type = low
ground.slidetime = 18
ground.hittime = 22
ground.velocity = -14*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
guard.velocity = -12
air.velocity = -6.2,-9
fall = ifelse(p2statetype = C && p2movetype != A && var(55) = 0,0,1)
fall.recover = 0
air.fall = 1
p2stateno = ifelse(p2movetype = A,4840,ifelse(var(55) = 0 && p2statetype = C,4930,ifelse(var(55) = 0 && p2statetype != C,4810,4820)))
p2facing = 1


[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1

; Standing hard punch (close)
[Statedef 250]
type = S
movetype = A
physics = S
anim = ifelse(var(4) = 0,250,251)
velset = 0
ctrl = 0
poweradd = 40
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 3
trigger1 = random < 750
value = 250,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = f10,2

[state 230,1]
type = statetypeset
trigger1 = animelem = 6
movetype = I

[State 250, 3]
type = HitDef
trigger1 = AnimElemtime(5) >= 0
persistent = 0
attr = S, NA
animtype = hard
damage = 150
guardflag = M
pausetime = 12,ifelse(p2movetype = A,22,12)
sparkno = ifelse(p2movetype = A,7,2)
guard.pausetime = 9,12
sparkxy = -10,-70
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 19
guard.hittime = 14
ground.velocity = -9*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
air.velocity = -6,-6
air.fall = 1
fall.recover = 0


[State 400, 4]
type = ChangeState
trigger1 = Animelem = 6
value = 59

; Standing hard punch (close)
[Statedef 280]
type = S
movetype = A
anim = ifelse(var(4) = 0,280,281)
ctrl = 0
poweradd = 60
juggle = 3
physics = N

[state 1,1]
type = veladd
trigger1 = vel X > 0
x = -0.2

[state 1,1]
type = velset
trigger1 = vel X <= 0
x = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -3



[State 200, 1]
type = PlaySnd
trigger1 = Time = 3
trigger1 = random < 750
value = 250,0
channel = 0



[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = f10,2

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,11

[state 230,1]
type = statetypeset
trigger1 = animelem = 11
movetype = I

[State 1000, Width]
type = Width
trigger1 = AnimElem = 3
value = 15,0

[State 250, 3]
type = HitDef
trigger1 = animelemtime(4) >= 0
persistent = 0
attr = S, NA
animtype = hard
damage = 200
guardflag = M
pausetime = 14,ifelse(p2movetype = A,22,14)
guard.pausetime = 14,14
sparkno = ifelse(p2movetype = A,7,2)
sparkxy = -1,-70
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 30
guard.hittime = 17
ground.velocity = -12*fvar(15)
ground.cornerpush.veloff = -4*fvar(15)
air.velocity = -3,-9
air.fall = 1
fall.recover = ifelse(p2movetype = A,0,1)
p2stateno = ifelse(p2statetype != A,4866,5000)
p2facing = 1

[State 250, 3]
type = HitDef
trigger1 = AnimElemtime(10) >= 0
persistent = 0
attr = S, NA
animtype = hard
damage = 200
guardflag = M
pausetime = 14,ifelse(p2movetype = A,25,15)
guard.pausetime = 14,15
sparkno = ifelse(p2movetype = A,7,2)
sparkxy = -1,-45
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 28
guard.hittime = 15
ground.velocity = -12*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
air.velocity = -3,-9
air.fall = 1
fall.recover = ifelse(p2movetype = A,0,1)
p2stateno = ifelse(p2statetype != A,4866,5000)
p2facing = 1



[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1



; Standing hard kick
[Statedef 260]
type = S
movetype = A
physics = S
anim = ifelse(var(4) = 0,260,261)
velset = 0
ctrl = 0
poweradd = 60
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[state 1,1]
type = posadd
trigger1 = animelem = 1 || animelem = 2
x = -4

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 260,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = f10,2

[state 230,1]
type = statetypeset
trigger1 = animelem = 7
movetype = I

[State 260, 3]
type = HitDef
trigger1 = AnimElemtime(6) >= 0
persistent = 0
attr = S, NA
animtype = hard
damage = 200
guardflag = M
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 12,ifelse(p2movetype != A,13,22)
sparkxy = -2,-60
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = ifelse(p2movetype != A,20,29)
ground.velocity = -12*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
guard.velocity = -12
air.velocity = -5,-7.2
air.fall = 1
fall.recover = 0
p2stateno = ifelse(p2statetype != C,5000,4866)
p2facing = 1


[State 260, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1

;立ち中K
[Statedef 265]
type = S
movetype = A
physics = S
anim = ifelse(var(4) = 0,265,266)
velset = 0
ctrl = 0
poweradd = 40
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[state 1,1]
type = posadd
trigger1 = animelemtime(6) >= 0 && animelemtime(7) < 0
x = 8

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 260,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = f10,2

[state 230,1]
type = statetypeset
trigger1 = animelem = 7
movetype = I

[State 260, 3]
type = HitDef
trigger1 = AnimElemtime(6) >= 0
persistent = 0
attr = S, NA
animtype = hard
damage = 100
guardflag = M
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 9,ifelse(p2movetype != A,12,22)
sparkxy = -2,-60
hitsound = 5,21
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = ifelse(p2movetype != A,20,29)
guard.hittime = 21
ground.velocity = -8*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
guard.velocity = -9
air.velocity = -5,-7.2
air.fall = 1
fall.recover = ifelse(p2movetype != A,1,0)
p2stateno = ifelse(p2movetype = A,4900,ifelse(p2statetype != C,5000,4866))
p2facing = 1


[State 260, 4]
type = ChangeState
trigger1 = animelem = 8
value = 59



; Standing hard punch (close)
[Statedef 290]
type = S
movetype = A
anim = ifelse(var(4) = 0,290,291)
ctrl = 0
poweradd = 60
juggle = 0
physics = N



[state 1,1]
type = veladd
trigger1 = vel X > 0
x = -0.2

[state 1,1]
type = velset
trigger1 = vel X <= 0
x = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = 0


[State 200, 1]
type = PlaySnd
trigger1 = Time = 3
trigger1 = random < 750
value = 250,0
channel = 0



[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = f10,2


[state 230,1]
type = statetypeset
trigger1 = animelem = 4
movetype = I


[State 250, 3]
type = HitDef
trigger1 = AnimElemtime(3) >= 0
persistent = 0
attr = S, NA
animtype = hard
damage = 90
guardflag = H
pausetime = 12,ifelse(p2movetype = A,22,12)
sparkno = ifelse(p2movetype = A,7,2)
guard.pausetime = 9,12
sparkxy = -1,-60
hitsound = 5,3
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 20
guard.hittime = 10
air.velocity = -2,-6
ground.velocity = -9*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
fall = 1
fall.recover = 1
p2stateno = ifelse(p2statetype != A,4805,5000)
p2facing = 1




[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1



; Crouching light punch
[Statedef 400]
type = C
movetype = A
physics = C
anim = ifelse(var(4) = 0,400,401)
ctrl = 0
poweradd= 2
juggle = 0

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 200,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = f10,0

[State 400, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = SC, NA
animtype = light
damage = 30
guardflag = M
pausetime = 8,8
sparkno = 1
sparkxy = -10,-40
hitsound = 5,0
guardsound = 6,0
ground.type = low
ground.slidetime = 8
ground.hittime = 9
guard.hittime = 15
ground.velocity = -6*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
air.velocity = -5,-3
air.fall = 1
fall.recover = 0

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1

; Crouching light kick
[Statedef 420]
type = C
movetype = A
physics = C
anim = ifelse(var(4) = 0,420,421)
ctrl = 0
poweradd= 2
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[state -2,varset]
type = varadd
trigger1 = fvar(12) > 0.3
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(12) = -0.1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 210,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 2
value = f10,0

[State 420, 3]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
persistent = 0
attr = C, NA
animtype = light
damage = 30
guardflag = L
pausetime = 8,8
sparkno = 1
sparkxy = -1,-10
hitsound = 5,1
guardsound = 6,0
ground.type = low
ground.slidetime = 8
ground.hittime = 12
guard.hittime = 13
ground.velocity = -6*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
guard.velocity = -8
air.velocity = -4,-1
hitflag = MAF
down.hittime = 5
down.velocity = -6,0
air.fall = 1
fall.recover = 0


[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1


; しゃがみ中P
[Statedef 430]
type = C
movetype = A
physics = C
anim = ifelse(var(4) = 0,430,431)
ctrl = 0
poweradd= 40
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 220,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = f10,1

[state 230,1]
type = statetypeset
trigger1 = animelem = 6
movetype = I

[State 400, 3]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
persistent = 0
attr = SC, NA
animtype = medium
damage = ifelse(p2movetype != A,70,100)
guardflag = M
pausetime = 12,ifelse(p2movetype != A,12,22)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -2,-30
hitsound = 5,9
guardsound = 6,0
ground.type = low
ground.slidetime = 8
ground.hittime = 12
guard.hittime = 13
ground.velocity = -9*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
air.velocity = -6,-6
hitflag = MAF
air.fall = 1
fall.recover = ifelse(p2movetype != A,1,0)


[State 400, 4]
type = ChangeState
trigger1 = Animelem = 5
value = 59

; Crouching light punch
[Statedef 435]
type = C
movetype = A
physics = C
anim = ifelse(var(4) = 0,435,436)
ctrl = 0
poweradd= 40
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 230,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = f10,1

[state 230,1]
type = statetypeset
trigger1 = animelem = 5
movetype = I

[State 400, 3]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
persistent = 0
attr = C, NA
animtype = medium
damage = 100
guardflag = L
pausetime = 12,ifelse(p2movetype = A,22,12)
sparkno = ifelse(p2movetype = A,7,2)
sparkxy = -10,0
hitsound = 5,21
guardsound = 6,0
ground.type = low
ground.slidetime = 8
ground.hittime = 18
guard.hittime = 15
ground.velocity = -9*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
air.velocity = -6,-3
guard.velocity = -9
hitflag = MAFD
down.hittime = 9
down.velocity = -9,0
air.fall = 1
fall.recover = 0

[State 400, 4]
type = ChangeState
trigger1 = animelem = 5
value = 59

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1



; Crouching hard punch
[Statedef 440]
type = C
movetype = A
physics = C
anim = ifelse(var(4) = 0,440,441)
ctrl = 0
poweradd= 50
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 250,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 3
value = f10,2



[state 230,1]
type = statetypeset
trigger1 = animelem = 7
movetype = I

[State 440, 3]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
persistent = 0
attr = SC, NA
animtype = hard
damage = 150
guardflag = M
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 15,ifelse(p2movetype != A,15,25)
sparkxy = -2,-49
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 18
guard.hittime = 16
ground.velocity = ifelse(p2movetype = A,-.2,-9*fvar(15)),ifelse(p2movetype = A,-13,0)
guard.velocity = -12
ground.cornerpush.veloff = -7*fvar(15)
air.velocity = ifelse(p2movetype = A,-0.5,-4),ifelse(p2movetype = A,-12,-11)
fall = ifelse(p2movetype = A,1,0)
fall.recover = ifelse(p2movetype = A,0,1)
air.fall = 1

[State 440, 5]
type = ChangeState
trigger1 = animelem = 7
value = 59;ifelse(command !="holddown",0,11)
ctrl = 0;1

; Crouching hard kick
[Statedef 460]
type = C
movetype = A
physics = C
anim = ifelse(var(4) = 0,460,461)
ctrl = 0
poweradd= 50
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 3
trigger1 = random < 750
value = 260,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 2
value = f10,2

[state 230,1]
type = statetypeset
trigger1 = animelem = 5
movetype = I

[state 1,1]
type = posadd
trigger1 = animelem = 2|| animelem = 3
x = 10

[State 260, 3]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
persistent = 0
attr = C, NA
animtype = hard
damage = 180
guardflag = L
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 14,ifelse(p2movetype != A,14,24)
sparkxy = -2,-10
hitsound = 5,4
guardsound = 6,0
ground.type = trip
ground.slidetime = 18
ground.hittime = 18
guard.hittime = 15
ground.velocity = -2.6,-7.5
ground.cornerpush.veloff = -9*fvar(15)
guard.velocity = -9
air.velocity = -2.6,-7.5
fall = 1
fall.recover = 0

[State 460, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command !="holddown",0,11)
ctrl = 1

; Jumping light punch
[Statedef 600]
type = A
movetype = A
physics = A
anim = ifelse(var(4) = 0,600,601)
ctrl = 0
poweradd = 10
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 200,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 0
value = f10,0

[State 600, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
animtype = light
damage = 40
guardflag = H
pausetime = 9,12
sparkno = 1
sparkxy = -10,-50
hitsound = 5,0
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 10
ground.velocity = -3*fvar(15)
ground.cornerpush.veloff = -3*fvar(15)
air.velocity = -3,-3
guard.velocity = -2.5
air.fall = 1
fall.recover = ifelse(var(52) = 0,0,1)

[state -2,varset]
type = varset
trigger1 = animelemtime(2) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(52) = ifelse(p2statetype = A,1,0)

[State 630, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


; Jumping light punch
[Statedef 610]
type = A
movetype = A
physics = A
anim = ifelse(var(4) = 0,610,611)
ctrl = 0
poweradd = 20
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[state -2,varset]
type = varset
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(52) = ifelse(p2statetype = A,1,0)

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 220,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = f10,0

[State 600, hit]
type = HitDef
trigger1 = AnimElemtime(3) >= 0
persistent = 0
attr = A, NA
animtype = medium
damage = 80
guardflag = H
pausetime = 12,ifelse(p2movetype = A,22,14)
sparkno = ifelse(p2movetype = A,7,2)
sparkxy = -1,-50
hitsound = 5,9
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 12
ground.velocity = -5*fvar(15)
ground.cornerpush.veloff = -5*fvar(15)
air.velocity = -3,-6
guard.velocity = -9
air.fall = 1
fall.recover = ifelse(var(52) = 0,0,1)

[State 630, 4]
type = ChangeState
trigger1 = animelem = 10 && var(4) != 0
value = 50
ctrl = 1

[State 630, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = ifelse(var(4) = 0,0,1)

; Jumping forward light kick
[Statedef 620]
type = A
movetype = A
physics = A
anim = ifelse(var(4) = 0,620,621)
ctrl = 0
poweradd = 10
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 210,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 2
value = f10,0

[State 630, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype = light
damage = 40
guardflag = H
pausetime = 9,12
sparkno = 1
sparkxy = -10,-58
hitsound = 5,1
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 11
ground.velocity = -3*fvar(15)
ground.cornerpush.veloff = -3*fvar(15)
air.velocity = -3,-3
guard.velocity = -2.5
air.fall = 1
fall.recover = ifelse(var(52) = 0,0,1)

[state -2,varset]
type = varset
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(52) = ifelse(p2statetype = A,1,0)

[State 630, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



; Jumping hard punch
[Statedef 640]
type = A
movetype = A
physics = A
anim = ifelse(var(4) = 0,640,641)
ctrl = 0
poweradd = 50
juggle = 2

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 2
trigger1 = random < 750
value = 280,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 2
value = f10,2

[State 640, 3]
type = HitDef
trigger1 = AnimElemtime(5) >= 0
persistent = 0 
attr = A, NA
animtype = heavy
damage = 100
guardflag = H
pausetime = 12,ifelse(p2movetype != A,12,22)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -5,-37
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 17
ground.velocity = -6*fvar(15)
ground.cornerpush.veloff = -6*fvar(15)
air.velocity = -6,-6
guard.velocity = -12
air.fall = 1
fall.recover = ifelse(var(52) = 0,0,1)

[State 640, 3]
type = HitDef
trigger1 = AnimElemtime(7) >= 0
persistent = 0 
attr = A, NA
animtype = heavy
damage = 100
guardflag = H
pausetime = 12,ifelse(p2movetype != A,12,22)
sparkno = ifelse(p2movetype != A,2,7)
sparkxy = -5,-37
hitsound = 5,10
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 17
ground.velocity = -5*fvar(15)
ground.cornerpush.veloff = -5*fvar(15)
air.velocity = -6,-6
guard.velocity = -12
air.fall = 1
fall.recover = ifelse(var(52) = 0,0,1)



[state -2,varset]
type = varset
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(52) = ifelse(p2statetype = A,1,0)

[State 640, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


; Jumping hard kick
[Statedef 660]
type = A
movetype = A
physics = A
anim = ifelse(var(4) = 0,660,661)
ctrl = 0
poweradd = 40
juggle = 1

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 250,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = f10,1

[State 660, 3]
type = HitDef
trigger1 = AnimElemtime(4) >= 0
persistent = 0
attr = A, NA
animtype = medium
damage = 100
guardflag = H
pausetime = 9,ifelse(p2movetype = A,22,14)
sparkno = ifelse(p2movetype = A,7,2)
sparkxy = -10,-80
hitsound = 5,21
guardsound = 6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 16
ground.velocity = -6*fvar(15)
ground.cornerpush.veloff = -3*fvar(15)
air.velocity = -4,-7
guard.velocity = -9
air.fall = 1
fall.recover = ifelse(var(52) = 0,0,1)

[state -2,varset]
type = varset
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(52) = ifelse(p2statetype = A,1,0)

[State 660, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



; Jumping knockdown attack
[Statedef 680]
type = A
movetype = A
physics = A
anim = ifelse((prevstateno = [600,660]) || var(4) != 0,681,680)
ctrl = 0
poweradd = 50
juggle = 2

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = -2

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = random < 750
value = 280,0
channel = 0

[State 200, 2]
type = PlaySnd
trigger1 = animelem = 4
value = f10,2


[State 680, 3]
type = HitDef
trigger1 = AnimElemtime(5) >= 0
persistent = 0
attr = S, NA
damage = 150
animtype = hard
guardflag = H
sparkno = ifelse(p2movetype != A,2,7)
pausetime = 9,ifelse(p2movetype != A,9,14)
sparkxy = -10,-45
hitsound = 5,4
ground.type = high
ground.slidetime = 18
ground.hittime = 15
ground.velocity = -5,-8
ground.cornerpush.veloff = -9*fvar(15)
guardsound = 6,0
air.velocity = -6,-10
fall.recovertime = 38-(var(56)*3)
fall = 1
fall = ifelse(p2movetype != A,0,1)
fall.recover = ifelse(var(52) = 0,0,1)
p2stateno = ifelse(p2movetype != A,5000,4955)
p2facing = 1

[state -2,varset]
type = varset
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(52) = ifelse(p2statetype = A,1,0)

[state -2,varset]
type = varadd
trigger1 = animelemtime(3) > 0
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(56) = ifelse(p2statetype = A,1,0)

[State 680, 4]
type = ChangeState
trigger1 = animelem = 9
value = 50
ctrl = 1

;投げ
[statedef 800]
type = S
movetype = A
velset = 0
ctrl = 0
anim = 800
juggle = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 1
value = 0

[State 680, 3]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = p2movetype != H
priority = 7,miss
attr = A, NT
damage = 0
animtype = up
hitflag = M
guardflag = 
numhits = 0
pausetime = 1,1
sparkno = 0
sparkxy = 0,-90
hitsound = 800,0
p1stateno = 810
p2stateno = 8200
p2getp1state = 1
p2facing = 1

[State 680, 4]
type = ChangeState
trigger1 = animelem = 3
value = 59


;投げ b
[statedef 805]
type = S
movetype = A
velset = 0
ctrl = 0
anim = 800
juggle = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 1
value = 0

[State 680, 3]
type = HitDef
trigger1 = AnimElem = 2
trigger1 = p2movetype != H
priority = 7,miss
attr = A, NT
damage = 0
animtype = up
hitflag = M
guardflag = 
numhits = 0
pausetime = 0,0
sparkno = 0
sparkxy = 0,-90
hitsound = 800,0
p1stateno = 815
p2stateno = 8205
;p2getp1state = 1
p2facing = 1

[State 680, 4]
type = ChangeState
trigger1 = animelem = 3
value = 59


;投げ hit
[statedef 815]
type = S
movetype = A
velset = 0
anim = 820

[state width]
type = width
trigger1 = time = 0
edge = 50,50

[state 810,3]
type = changestate
trigger1 = p2stateno = 825
value = 105

[state 820,1]
type = playerpush
trigger1 = time > 0
value = 0

[State 801, 2]
type = HitDef
trigger1 = animelem = 14
attr = SCA, SA
animtype = hard
damage = 400
numhits = 0
guardflag = M
pausetime = 0,0
sparkxy = 0,-70
sparkno = 3
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5.5,-9
air.velocity = -5.5,-9
fall = 1
fall.recover = 0
p2stateno = ifelse(facing = 1,4817,4815)

[state 1,1]
type = movehitreset
trigger1 = animelem = 15

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 36, 0

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 36, 0

[State 801, Effect]
type = PlaySnd
trigger1 = AnimElem = 12
value = f10,2
channel = 1

[State 851, セリフ]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800, 0
channel = 0

[State 851, ターン]
type = turn
trigger1 = animelem = 2

[State 851, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;投げ hit
[statedef 810]
type = S
movetype = A
velset = 0
anim = 810

[state 810,3]
type = changestate
trigger1 = p2stateno = 825
value = 105

[state -2,varset]
type = varset
trigger1 = animelem = 15
ignorehitpause = 1
fvar(12) = 0.8

[State 801, Effect]
type = PlaySnd
trigger1 = AnimElem = 12
value = f10,2
channel = 1

[State 801, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800,0
channel = 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 30,0

[State 801, 2]
type = HitDef
trigger1 = animelem = 14
attr = SCA, SA
animtype = up
damage = 400
numhits = 1
guardflag = 
pausetime = 0,0
sparkxy = 0,-70
sparkno = 3
hitsound = 5,4
guardsound = 6,0
ground.type = trip
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -6,-6
air.velocity = -6,-6
fall = 1
fall.recover = 0


[state 1,1]
type = movehitreset
trigger1 = animelem = 15
trigger2 = animelem = 4

[State 801, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1


;投げやられ
[statedef 8200]
type = S
movetype = H
velset = 0
ctrl = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 11
value = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 1
value = 0

[state 820,2]
type = varset
triggerall = time = [0,19]
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
v = 1
value  = 1

[state 820,2]
type = changestate
triggerall = time = [0,19]
triggerall = !var(1) = 1
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
value = 825


[state 820,2]
type = changeanim2
trigger1 = time = 0
value = 8200

[state 820,3]
type = selfstate
trigger1 = p2stateno != [800,899] 
value = 5110


;投げやられ
[statedef 8205]
type = S
movetype = H
velset = 0
ctrl = 0

[state 820,1]
type = playerpush
trigger1 = time > 0
value = 0

[state 825,0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 11
value = 0

[state 820,2]
type = varset
triggerall = time = [0,19]
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
v = 1
value  = 1

[state 820,2]
type = changestate
triggerall = time = [0,19]
triggerall = !var(1) = 1
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
value = 825

[State 852, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 8205

[State 852, 3]
type = SprPriority
trigger1 = Time = 30
value = 3

[state 1,1]
type = turn
trigger1 = animelem = 2

[state 820,3]
type = selfstate
trigger1 = p2stateno != [800,899] 
value = 5100

;投げ
[statedef 850]
type = A
movetype = A
physics = N
ctrl = 0
anim = 850
juggle = 0

[state 800,0 ]
type = varset 
trigger1 = 1
var(5) = ifelse(p2movetype = A,1,0)

[state 800,0 ]
type = nothitby
trigger1 = animelemtime(2) = 0
value = SCA
time = 2

[State 680, 3]
type = HitDef
trigger1 = AnimElem = 2 && p2movetype != H
attr = A, NT
damage = 0
animtype = up
hitflag = AF
guardflag = 
pausetime = 1,1
sparkno = 0
sparkxy = 0,-90
hitsound = 800,0
p1stateno = 860
p2stateno = 870
p2getp1state = 1
p2facing = 1


[state 1,1]
type = gravity
trigger1 = 1

[State 680, 4]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 53

;投げ
[statedef 855]
type = A
movetype = A
physics = N
ctrl = 0
anim = 850
juggle = 0

[state 800,0 ]
type = varset 
trigger1 = 1
var(5) = ifelse(p2movetype = A,1,0)

[state 800,0 ]
type = nothitby
trigger1 = animelemtime(2) = 0
value = SCA
time = 2

[State 680, 3]
type = HitDef
trigger1 = AnimElem = 2 && p2movetype != H
attr = A, NT
damage = 0
animtype = up
hitflag = AF
guardflag = 
numhits = 0
pausetime = 1,1
sparkno = 0
sparkxy = 0,-90
hitsound = 800,0
p1stateno = 865
p2stateno = 875
p2getp1state = 1
p2facing = 1

[state 1,1]
type = gravity
trigger1 = 1

[State 680, 4]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 53

;投げ hit
[statedef 860]
type = A
movetype = A
physics = A
anim = 860

[state 810,3]
type = changestate
trigger1 = p2stateno = 825
value = 105

[state 820,1]
type = playerpush
trigger1 = time > 0
value = 0

[state 1,1]
type = posfreeze
trigger1 = animelemtime(6) < 0

[state 1,1]
type = velset
trigger1 = animelemtime(6) = 0
x = 0
y = 0

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 46, -90

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 49, -106

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = 43, -123

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 4
pos = 43, -20

[State 851, セリフ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 1
channel = 0

[State 851, セリフ]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 12

[state 1,1]
type = gamemakeanim
trigger1 = animelem = 4
pos = 30,-53
value = 3

[state 1,1]
type = movehitreset
trigger1 = animelem = 5

[State 200, 1]
type = gravity
trigger1 = AnimElemtime(6) > 0

[State 200, 1]
type = HitDef
trigger1 = AnimElemtime(4) = 0
persistent = 0
attr              = SC, SA
damage            = 400,50
animtype          = up
guardflag         = M
hitflag           = MAFD
priority          = 3, miss
pausetime         = 0,0
guard.pausetime   = 0,12
sparkno           = ifelse(var(5) = 0,6,7) 
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 19
ground.velocity   = -1 , -12
guard.velocity    = -7
air.type          = High
air.hittime       = 19
air.velocity      = ifelse(var(5) = 0,-6,-1) , -10 
fall              = 1                          ;落下させる
fall.recover      = ifelse(var(5) = 0,1,0)                         ;受身可否
fall.recovertime  = 5        ;受身出来るまでの時間
air.fall          = 1                          ;相手が空中時のみ落下させる
down.velocity     = 0,-3
down.hittime      = 20
down.bounce       = 1
palfx.time        = 40
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1

[state 1,1]
type = changestate
trigger1 = pos y >= 0 && vel Y > 0
value = 53



;投げ hit
[statedef 865]
type = S
movetype = A
physics = A
anim = 860

[state 810,3]
type = changestate
trigger1 = p2stateno = 825
value = 105

[state 820,1]
type = playerpush
trigger1 = time > 0
value = 0

[state 1,1]
type = posfreeze
trigger1 = animelemtime(6) < 0

[state 1,1]
type = velset
trigger1 = animelemtime(6) = 0
x = 0
y = 0

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 46, -90

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 49, -106

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 3
pos = 43, -123

[State 805, Bind 1]
type = TargetBind
trigger1 = AnimElem = 4
pos = 43, -20

[State 851, セリフ]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800, 1
channel = 0

[State 851, セリフ]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000, 12

[state 1,1]
type = gamemakeanim
trigger1 = animelem = 4
pos = 30,-53
value = 3

[state 1,1]
type = movehitreset
trigger1 = animelem = 5

[State 200, 1]
type = gravity
trigger1 = AnimElemtime(6) > 0

[State 200, 1]
type = HitDef
trigger1 = AnimElemtime(4) = 0
persistent = 0
attr              = SC, SA
damage            = 400,50
animtype          = up
guardflag         = M
hitflag           = MAFD
priority          = 3, miss
pausetime         = 0,0
guard.pausetime   = 0,12
sparkno           = ifelse(var(5) = 0,6,7) 
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 19
ground.velocity   = -1 , -12
guard.velocity    = -7
air.type          = High
air.hittime       = 19
air.velocity      = ifelse(var(5) = 0,-6,-1), -10 
fall              = 1                          ;落下させる
fall.recover      = ifelse(var(5) = 0,1,0)                         ;受身可否
fall.recovertime  = 5        ;受身出来るまでの時間
air.fall          = 1                          ;相手が空中時のみ落下させる
down.velocity     = 0,-3
down.hittime      = 20
down.bounce       = 1
palfx.time        = 40
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1

[State 851, ターン]
type = turn
trigger1 = time = 0


[state 1,1]
type = changestate
trigger1 = pos y >= 0 && vel Y > 0
value = 53


;投げやられ
[statedef 870]
type = A
movetype = H
velset = 0
ctrl = 0

[state 1,1]
type = posfreeze
trigger1 = 1

[state 820,1]
type = playerpush
trigger1 = time > 0
value = 0

[state 825,0]
type = varset
trigger1 = var(19) != 0 && var(18) = 0
var(18) = 1

[state 825,0]
type = varset
trigger1 = var(19) != 0 && var(18) = 1
var(18) = 2

[state 825,0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 11
value = 0

[state 820,2]
type = varset
triggerall = time = [0,10]
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
v = 1
value  = 1

[state 820,2]
type = changestate
triggerall = time = [0,10]
triggerall = !var(1) = 1
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
value = 825

[State 852, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 870

[State 852, 3]
type = SprPriority
trigger1 = Time = 30
value = 3


[state 820,3]
type = selfstate
trigger1 = p2stateno != [800,899] 
value = 5100

;投げやられ
[statedef 875]
type = A
movetype = H
velset = 0
ctrl = 0

[state 1,1]
type = posfreeze
trigger1 = 1

[state 820,1]
type = playerpush
trigger1 = time > 0
value = 0

[state 825,0]
type = varset
trigger1 = var(19) != 0 && var(18) = 0
var(18) = 1

[state 825,0]
type = varset
trigger1 = var(19) != 0 && var(18) = 1
var(18) = 2

[state 825,0]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state 800,0 ]
type = varset 
trigger1 = time = 0
v = 11
value = 0

[state 820,2]
type = varset
triggerall = time = [0,10]
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
v = 1
value  = 1

[state 820,2]
type = changestate
triggerall = time = [0,10]
triggerall = !var(1) = 1
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
value = 825

[State 852, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 870

[State 852, 3]
type = SprPriority
trigger1 = Time = 30
value = 3


[state 820,3]
type = selfstate
trigger1 = p2stateno != [800,899] 
value = 5100


;ガンフレイム
[Statedef 1000]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 20
;velset = 0,0
anim = ifelse(var(4) != 0,1050,ifelse(var(8)= 0,1000,ifelse(var(8) = 1,1001,1002)))
ctrl = 0
;sprpriority = 2

[State -3, 1.8]
type = Varset
trigger1 = time = 0
var(6) = 0
persistent = 0
ignorehitpause = 1

[State 108, 0]
type = VelAdd
triggerall = PrevStateNo != 20;歩きの時は無効
trigger1   = time >= 0
trigger1   = Vel X > 0
x = -0.2

[State 108, 0]
type = Velset
trigger1   = time >= 0
trigger1   = Vel X < 0
trigger2   = PrevStateNo = 20;歩きの時は無効
x = 0

;[State 210, 1]
;type = Width
;trigger1 = AnimelemTime(3) >= 1
;trigger1 = AnimelemTime(12) <= 1
;player= 10,0

[State 750, 3];通常　炎　呼び出し
type = helper
trigger1 = Var(4) = 0    ;ドラゴンインストール　判別ＶＡＲ
trigger1 = AnimElemTime(5) = 3
ignorehitpause = 0
persistent = 0
sprpriority = 10
pos = 60,0
priority = 10
ownpal = 1;コレが無いとヘルパーの色変化が出来ない
stateno = 1010
ID = 1010
name = "gun"


[State 1000, 3]
type = Projectile
trigger1 = AnimElemTime(5) = 2
trigger1 = Var(4) = 0
projscale = 1
projanim = 1012
projhitanim = 1012
projremovetime = 21
projID = 1010
postype = p1
offset = 60,0
attr = SC, SP
damage = 100,10
animtype = medium
hitflag = P
guardflag = M
pausetime = 0,0
sparkno = 6
sparkxy = 60,-65
guard.sparkno = 40
hitsound = S1000,1
guardsound = 6,0

[State 1000, 3]
type = Projectile
trigger1 = AnimElemTime(5) = 2
trigger1 = Var(4) != 0
projscale = 1
projanim = 1020
projhitanim = 1020
projremovetime = 28
projID = 1020
postype = p1
offset = 75,0
attr = SC, SP
damage = 400,10
animtype = medium
hitflag = MAFDP
guardflag = M
pausetime = 0,9
guard.pausetime = 0,12
sparkno = 6
sparkxy = 30,-65
guard.sparkno = 40
hitsound = 5,3
guardsound = 6,0
ground.slidetime = 12
ground.hittime = 30
guard.hittime = 13
ground.velocity = -3,-15
ground.type = low
air.velocity = -4,-11
fall = 1
fall.recovertime = 37
fall.recover = ifelse(var(54) = 0,0,1)
palfx.time        = 37
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[state 230,1]
type = statetypeset
trigger1 = animelemtime(5) = 6
movetype = I

[State 2, ga3];地面突き立てガード音
type = PlaySnd
trigger1 = AnimElemTime(5) = 2 && var(4) != 0
value = 1100, 13
;channel = 1
persistent = 0
ignorehitpause = 1

[State 2, ga3];地面突き立てガード音
type = PlaySnd
trigger1 = AnimElemTime(5) = 2 && var(4) != 0
value = 1100, 10
;channel = 1
persistent = 0
ignorehitpause = 1

[State 2, ga3];地面突き立てガード音
type = PlaySnd
trigger1 = AnimElemTime(5) = 1
value = 1000, 11
;channel = 1
persistent = 0
ignorehitpause = 1

;++++++++++++++++++++++++++++++
[State 200, 0];声
type = VarRandom
trigger1 = Animelem = 1
v = 3
range = 0,2

[State 200, 1];
type = PlaySnd
trigger1 = Animelem = 2
value = 1000, var(3);
channel = 0

;++++++++++++++++++++++++++++++

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;　　　　　　　　　　　　　　　　　ガンフレイム  炎
[Statedef 1010]
type = S
movetype = A
physics = S
anim = 1011
ctrl = 0
velset = 0,0

[State 1, 10]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow

[State 50, 1]
type = sprpriority
Trigger1 = Time >= 0 
value = 10 

[State 10,combo];
type = parentVaradd
trigger1 = moveguarded
ignorehitpause = 1
var(41) = 30

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
[State 10,combo];ＨＩＴ確認ＶＡＲ初期化
type = Varset
trigger1 = IsHelper(1010) = 1
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
v = 30
value = 0

[State 10,combo];ＨＩＴ確認ＶＡＲ
type = Varadd
trigger1 = IsHelper(1010) = 1
trigger1 = movecontact = 1 && animelemtime(1) > 0
persistent = 0
ignorehitpause = 1
v = 30
value = 10
;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

[State 2, ga3];火柱１本目効果音
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 12
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 240, 3];火柱１本目
type = Explod
trigger1 = AnimElem = 1
pos = 0, 0
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1010
ID = 1010
persistent = 0
ignorehitpause = 1

[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 4
pos = 30,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015

[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 4
pos = 40,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015

;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 6
pos = 21,-55
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 40
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 6
pos = 30,-75
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 6
pos = 50,-85
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\



[State 200, 1];火柱１本目
type = HitDef
trigger1 = AnimElemtime(1) >= 0
persistent = 0
attr              = S, SP
damage            = 180,50
animtype          = hard
guardflag         = M
hitflag           = MAFD
priority          = 3, miss
pausetime         = 0,ifelse(p2movetype = A,19,12)
guard.pausetime   = 0,12
sparkno           = ifelse(p2movetype = A,7,6)
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 19
guard.hittime = 13
ground.velocity   = -1 , -12
guard.velocity    = -7
air.type          = High
air.hittime       = 19
air.velocity      = -1 , -10 
fall              = 1                          ;落下させる
fall.recover      = ifelse(p2movetype = A,0,1)                         ;受身可否
fall.recovertime  = 40        ;受身出来るまでの時間
air.fall          = 1                          ;相手が空中時のみ落下させる
down.velocity     = 0,-3
down.hittime      = 20
down.bounce       = 1
palfx.time        = 40
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
ground.cornerpush.veloff   = 0
air.cornerpush.veloff      = 0
down.cornerpush.veloff     = 0
guard.cornerpush.veloff    = 0
airguard.cornerpush.veloff = 0

[State 2, ga3];火柱２本目効果音
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000,12
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 240, 3];火柱２本目
type = Explod
trigger1 = AnimElem = 3
pos = 35, 0
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1010
ID = 1010
persistent = 0
ignorehitpause = 1

[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 7
pos = 65,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015
[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 7
pos = 75,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 9
pos = 47,-40
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 30
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 9
pos = 56,-55
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 40
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 9
pos = 65,-75
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


[State 2, ga3];火柱３本目効果音
type = PlaySnd
trigger1 = AnimElem = 7
value = 1000,12
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 240, 3];火柱３本目
type = Explod
trigger1 = AnimElem = 5
pos = 70, 0
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1010
ID = 1010
persistent = 0
ignorehitpause = 1

[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 9
pos = 100,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015
[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 9
pos = 140,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 11
pos = 100,-75
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 11
pos = 120,-85
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 11
pos = 94,-102
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


[State 2, ga3];火柱４本目効果音
type = PlaySnd
trigger1 = AnimElem = 9
value = 1000,12
;channel = 1
persistent = 0
ignorehitpause = 1

[State 240, 3];火柱４本目
type = Explod
trigger1 = AnimElem = 7
pos = 105, 0
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1010
ID = 1010
persistent = 0
ignorehitpause = 1

[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 11
pos = 135,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015
[State 240, 3];炎カス上へ
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 11
pos = 145,-100
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 51
random = 20, 20
ownpal = 1
anim = 1015
vel = -1,-3
accel = 0,0.1
ID = 1015
;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 13
pos = 117,-40
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 30
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 13
pos = 126,-55
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 40
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 13
pos = 135,-75
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス4
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 13
pos = 155,-85
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015
[State 240, 3];炎カス5
type = Explod
trigger1 = NumExplod(1015) < 25
trigger1 = AnimElem = 13
pos = 129,-102
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 11
random = 30, 50
ownpal = 1
anim = 1016
ID = 1015




[State 255, 7]
type = destroyself
trigger1 = animTime = 0
trigger2 = movecontact
trigger2 = animelem = 3 || animelem = 5 || animelem = 7 || animelem = 9 || animelem = 11
trigger3 = parent,var(6) = 1

[Statedef 1050]
type    = S
movetype= I
physics = N
juggle  = 0
poweradd= 35
;velset = 0,0
anim = 1050
ctrl = 0
;sprpriority = 2

[State 108, 0]
type = VelAdd
triggerall = PrevStateNo != 20;歩きの時は無効
trigger1   = time >= 0
trigger1   = Vel X > 0
x = -0.2

[State 108, 0]
type = Velset
trigger1   = time >= 0
trigger1   = Vel X < 0
trigger2   = PrevStateNo = 20;歩きの時は無効
x = 0

[State 2, ga3];地面突き立て音
type = PlaySnd
trigger1 = AnimElemTime(5) = 1
value = 407, 0
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 2, ga3];地面突き立てガード音
type = PlaySnd
trigger1 = AnimElemTime(5) = 1
value = 509, 3
;channel = 1
persistent = 0
ignorehitpause = 1

[State 200, 0];声
type = VarRandom
trigger1 = Animelem = 1
v = 3
range = 0,2

[State 200, 1];
type = PlaySnd
trigger1 = Animelem = 1
value = 1050, var(3);
channel = 0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;                                     ヴォルカニックヴァイパー  地上Ｓ　開始
[Statedef 1100]
type    = U
movetype= A
physics = N
juggle  = 1
poweradd= 80
;velset = 0,0
anim = ifelse(statetype = A,1103,ifelse(var(8)=0,1100,ifelse(var(8),1101,1102)))
ctrl = 0
;sprpriority = 2

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(2) > 0
persistent = 0
ignorehitpause = 1
var(40) = -1

[state -2,varset]
type = varset
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(1) = var(8)

[State 1000, 7];
type = varset
trigger1 = time = 0
var(2) = 0

[state 1,1]
type = varset
trigger1 = movehit = 1 && fvar(12) > 0.85
ignorehitpause = 1
fvar(12) = 0.85

[State 1000, 7];
type = varset
trigger1 = time = 0
var(5) = ifelse(statetype = A,1,0)

[State 1000, 7];
type = velset
trigger1 = time = 0
y = 0

[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 5



[State 2, ga3];ヴォルカニックヴァイパー開始音
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100, ifelse(var(4) = 0,10,11)
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

;++++++++++++++++++++++++++++++
[State 200, 0];声
type = VarRandom
trigger1 = time= 0
v = 3
range = 0,2

[State 200, 1];ヴォルカニックヴァイパー
type = PlaySnd
trigger1 = Animelem = 1
value = 1100, var(3);
channel = 0

;++++++++++++++++++++++++++++++
;********************************
[State 1];ヴォルカニックヴァイパー　封炎剣　炎１
type = Explod
trigger1 = AnimElem = 2
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1145
ID = 1145
RemoveTime = 3
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎１消去
type = RemoveExplod
trigger1 = AnimElem = 3
ignorehitpause = 1
ID = 1145
[State 1];ヴォルカニックヴァイパー　封炎剣　炎２
type = Explod
trigger1 = AnimElem = 3
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 50
ownpal = 1
anim = 1146
ID = 1146
RemoveTime = 12
BindTime = -1
;********************************

[State 200, 1];
type = HitDef
trigger1 = AnimElem = 3
attr              = SC, SA
damage            = 220,30
animtype          = hard
guardflag         = MA
hitflag           = MAFD
priority          = 7, Miss
pausetime         = 12,12  
guard.pausetime   = 12,15
sparkno           = ifelse(p2movetype != A,9,7)
guard.sparkno     = 40
sparkxy          = 0, -45
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -1 , -4-var(1) 
ground.cornerpush.veloff = -3*fvar(15)
guard.velocity    = -4
air.type          = High
air.hittime       = 12
air.velocity      = -1 , -4-var(1)
fall              = 1                  ;落下させる
fall.recover      = ifelse(p2movetype = A,0,1)                 ;受身可否
fall.recovertime  = 40         ;受身出来るまでの時間
air.fall          = 1                  ;相手が空中時のみ落下させる
down.velocity     = 0,-3
down.hittime      = 12
down.bounce       = 1
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
getpower          = 48,0
givepower         = 5,0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1110
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  地上Ｓ　上昇
[Statedef 1110]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1110
ctrl = 0
;sprpriority = 2

[state -2,varset]
type = varadd
trigger1 = movehit && time > 0
persistent = 0
ignorehitpause = 1
var(40) = 0

[State 170, 1];無敵
type = NotHitBy
trigger1 = Time <= 3; && var(1) = 1
value = SCA
time = ifelse(var(1) = 0,2,ifelse(var(1) = 1,6,4))

[State 1000, 7];速度
type = velset
trigger1 = Time = 0 && vel x < 0
x = 0.1

[State 1000, 7];速度
type = veladd
trigger1 = Time = 0
x = ifelse(var(1) = 0,0.5,ifelse(var(1) = 1,0.8,1))

[State 1000, 7];上昇度
type = velset
trigger1 = (Time = [3,5]) && var(1) = 0
trigger2 = (Time = [3,7]) && var(1) = 1
trigger3 = (Time = [3,9]) && var(1) = 2
y = -8-(var(1)*2)

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 0
y = 0.6


;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = AnimElem = 1
ignorehitpause = 1
ID = 1146
[State 1];ヴォルカニックヴァイパー　封炎剣　炎３
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1147
ID = 1147
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎３消去１フレ以下だけど剣が見えるのを阻止
type = RemoveExplod
trigger1 = AnimElemTime(2) >= 2
ignorehitpause = 1
ID = 1147

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時1
type = Explod
trigger1 = NumExplod(1148) = 0
trigger1 = AnimElemTime(2) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1148
ID = 1148
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時1消去
type = RemoveExplod
trigger1 = AnimElemTime(2) != [1,3]
ignorehitpause = 1
ID = 1148

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時2
type = Explod
trigger1 = NumExplod(1149) = 0
trigger1 = AnimElemTime(3) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1149
ID = 1149
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時2消去
type = RemoveExplod
trigger1 = AnimElemTime(3) != [1,3]
ignorehitpause = 1
ID = 1149

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時3
type = Explod
trigger1 = NumExplod(1150) = 0
trigger1 = AnimElemTime(4) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1150
ID = 1150
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時3消去
type = RemoveExplod
trigger1 = AnimElemTime(4) != [1,3]
ignorehitpause = 1
ID = 1150
;********************************
;********************************
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-170
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 10
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-140
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-100
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス4
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-60
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス5
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-20
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス6
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 10,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス7
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス8
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 20,-40
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス10
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-60
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
;********************************

[State 200, 1];
type = HitDef
trigger1 = animelemtime(1) >= 0
persistent = 0
attr              = SC, SA
damage            = ifelse(var(5) = 1,80,130),20
animtype          = hard
guardflag         = M
hitflag           = MAF
priority          = 5
pausetime         = 12,ifelse(p2movetype != A,12,17)   
guard.pausetime   = 12,12
sparkno           = ifelse(p2movetype != A,9,7)
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -2-var(1) , -14-(var(1)*2)
ground.cornerpush.veloff = -7*fvar(15)
guard.velocity    = -7
air.type          = High
air.hittime       = 12
air.velocity      = ifelse(var(5) = 1,-3,-1.4-var(1)),ifelse(var(5) = 1,-12-(var(1)*3),-12-(var(1)*4))
airguard.velocity = -4 , -3  
fall              = 1                   ;落下させる
fall.recover      = ifelse(p2movetype = A,0,1)                   ;受身可否
fall.recovertime  = ifelse(var(5) = 1,60,ifelse(var(1) = 0,33,ifelse(var(1) = 1,45,60)))          ;受身出来るまでの時間
air.fall          = 1                   ;相手が空中時のみ落下させる
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
getpower          = 48,0
givepower         = 5,0



[State 1000, 7];
type = varset
trigger1 = command = "qcb_a" || command = "qcb_b" || command = "qcb_c"
trigger1 = animelemtime(2) > 0
var(2) = 1

[State 1000, 7];ヴォルカニックヴァイパー  全  終了動作　叩き落し出来る時間へ
type = ChangeState
trigger1 = Time = 13+(var(1)*2)
value = 1120
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  全　終了動作　叩き落し出来る時間
[Statedef 1120]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1120
ctrl = 0
;sprpriority = 2

;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時1　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1148
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時2　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1149
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時3　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1150
[State 1];ヴォルカニックヴァイパー　封炎剣　炎　終了
type = Explod
trigger1 = AnimElem = 2
pos = 0,20
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1151
ID = 1151
vel = 0,-3
;********************************

[State 1000, 7];重力　通常
type = veladd
triggerall = Var(19)     = 0
trigger1   = Time       >= 0
y = 0.5

[State 1000, 7];重力　叩き落し出来る時
type = veladd
triggerall = Var(19)     = 10
trigger1   = Time       >= 0
y = 0.30

[State 1000, 7];ヴォルカニックヴァイパー  全  落下へ
type = ChangeState
trigger1 = command = "qcb_a" || command = "qcb_b" || command = "qcb_c"
trigger1 = animelemtime(1) > 0
trigger2 = var(2) = 1
triggerall = prevstateno != 1106
value = 1200

[State 1000, 7];ヴォルカニックヴァイパー  全  落下へ
type = ChangeState
trigger1 = AnimTime = 0
value = 1130
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  全　　落下
[Statedef 1130]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1130
ctrl = 0
;sprpriority = 2

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 0
y = 0.65

[State 1000, 7];ヴォルカニックヴァイパー  全  着地へ
type = ChangeState
trigger1 = Pos Y >= 0.5
trigger1 = Vel Y >  0
value = 1140
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  全　　着地
[Statedef 1140]
type    = C
movetype= I
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1140
ctrl = 0
;sprpriority = 2

[State 1000, 7]
type = Velset
trigger1 = Time >= 0
x = 0
y = 0

[State 1000, 7]
type = Posset
trigger1 = Time  >= 0
trigger1 = Pos Y != 0
y = 0



[State 2 ,2];着地音
type = PlaySnd
trigger1 = time = 0
value = f47, 0;
channel = 2
ignorehitpause = 1
persistent = 0

[State 1000, 7];立ちへ
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;強化ヴォルカニックヴァイパー  地上
[Statedef 1105]
type    = U
movetype= A
physics = N
juggle  = 1
poweradd= 80
;velset = 0,0
anim = ifelse(statetype = A,1103,ifelse(command = "dp_x" ,1100,ifelse(command = "dp_y" ,1101,1102)))
ctrl = 0
;sprpriority = 2

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(2) > 0
persistent = 0
ignorehitpause = 1
var(40) = -1

[state -2,varset]
type = varset
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(1) = ifelse(command = "dp_x" ,0,ifelse(command = "dp_y" ,1,2))

[State 1000, 7];
type = varset
trigger1 = time = 0
var(2) = 0

[State 1000, 7];
type = varset
trigger1 = time = 0
var(5) = ifelse(statetype = A,1,0)

[State 1000, 7];
type = velset
trigger1 = time = 0
y = 0

[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 5



[State 2, ga3];ヴォルカニックヴァイパー開始音
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100, 10
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

;++++++++++++++++++++++++++++++
[State 200, 0];声
type = VarRandom
trigger1 = time= 0
v = 3
range = 0,2

[State 200, 1];ヴォルカニックヴァイパー
type = PlaySnd
trigger1 = Animelem = 1
value = 1100, var(3);
channel = 0

;++++++++++++++++++++++++++++++
;********************************
[State 1];ヴォルカニックヴァイパー　封炎剣　炎１
type = Explod
trigger1 = AnimElem = 2
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1145
ID = 1145
RemoveTime = 3
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎１消去
type = RemoveExplod
trigger1 = AnimElem = 3
ignorehitpause = 1
ID = 1145
[State 1];ヴォルカニックヴァイパー　封炎剣　炎２
type = Explod
trigger1 = AnimElem = 3
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 50
ownpal = 1
anim = 1146
ID = 1146
RemoveTime = 12
BindTime = -1
;********************************

[State 200, 1];
type = HitDef
trigger1 = AnimElem = 3
attr              = SC, SA
damage            = 150,10
animtype          = hard
guardflag         = MA
hitflag           = MAFD
priority          = 3, Miss
pausetime         = 12,15  
guard.pausetime   = 12,15
sparkno           = ifelse(p2movetype != A,6,7)
guard.sparkno     = 40
sparkxy          = 0, -76
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -1 , -8-var(1)
ground.cornerpush.veloff = -3*fvar(15)
guard.velocity    = -4
air.type          = High
air.hittime       = 12
air.velocity      = -1 , -8-var(1)
fall              = 1                  ;落下させる
fall.recover      = ifelse(p2movetype = A,0,1)                 ;受身可否
fall.recovertime  = 40         ;受身出来るまでの時間
air.fall          = 1                  ;相手が空中時のみ落下させる
down.velocity     = 0,-3
down.hittime      = 12
down.bounce       = 1
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
getpower          = 48,0
givepower         = 5,0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1106
ctrl = 0

;                                     ヴォルカニックヴァイパー  地上Ｓ　上昇
[Statedef 1106]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 0
;velset = 0,0
anim = 1110
ctrl = 0
;sprpriority = 2

[state -2,varset]
type = varadd
trigger1 = movehit && time > 0
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1000, 7];速度
type = velset
trigger1 = Time = 0 && vel x < 0
x = 0.1

[State 1000, 7];速度
type = veladd
trigger1 = Time = 0
x = 1.2

[State 1000, 7];上昇度
type = velset
trigger1 = Time = [3,9] 
y = -12

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 0
y = 0.4


;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = AnimElem = 1
ignorehitpause = 1
ID = 1146
[State 1];ヴォルカニックヴァイパー　封炎剣　炎３
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1147
ID = 1147
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎３消去１フレ以下だけど剣が見えるのを阻止
type = RemoveExplod
trigger1 = AnimElemTime(2) >= 2
ignorehitpause = 1
ID = 1147

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時1
type = Explod
trigger1 = NumExplod(1148) = 0
trigger1 = AnimElemTime(2) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1148
ID = 1148
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時1消去
type = RemoveExplod
trigger1 = AnimElemTime(2) != [1,3]
ignorehitpause = 1
ID = 1148

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時2
type = Explod
trigger1 = NumExplod(1149) = 0
trigger1 = AnimElemTime(3) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1149
ID = 1149
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時2消去
type = RemoveExplod
trigger1 = AnimElemTime(3) != [1,3]
ignorehitpause = 1
ID = 1149

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時3
type = Explod
trigger1 = NumExplod(1150) = 0
trigger1 = AnimElemTime(4) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1150
ID = 1150
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時3消去
type = RemoveExplod
trigger1 = AnimElemTime(4) != [1,3]
ignorehitpause = 1
ID = 1150


[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(2) = 1
pos = 0,15
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = 1

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(2) = 2
pos = 0,20
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = 1

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(3) = 1
pos = 0,25
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = 1

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(3) = 2
pos = 0,30
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = 1

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(4) = 1
pos = 0,35
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = -1

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(4) = 2
pos = 0,40
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = 1

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時4
type = Explod
trigger1 = AnimElemTime(4) = 3
pos = 0,45
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1152
ID = 1152
bindtime = 1

[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-170
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 10
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-140
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-100
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス4
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-60
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス5
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-20
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス6
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 10,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス7
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス8
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 20,-40
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス10
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-60
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
;********************************

[State 200, 1];
type = HitDef
trigger1 = animelemtime(1) >= 0
attr              = A, SA
damage            = 27,20
animtype          = hard
guardflag         = M
hitflag           = MAF
priority          = 5
pausetime         = 2,1   
guard.pausetime   = 4,4
sparkno           = ifelse(p2movetype != A,6,7)
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -2 , -14-(var(1)*2)
guard.velocity    = -7
air.type          = High
air.hittime       = 12
air.velocity      = ifelse(var(5) = 1,-3,-1.4),ifelse(var(5) = 1,-10,-12)
airguard.velocity = -4 , -3  
fall              = 1                   ;落下させる
fall.recover      = ifelse(p2movetype = A,0,1)                   ;受身可否
fall.recovertime  = ifelse(var(1) = 0,33,ifelse(var(1) = 1,45,60))          ;受身出来るまでの時間
air.fall          = 1                   ;相手が空中時のみ落下させる
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
getpower          = 48,0
givepower         = 5,0



[State 1000, 7];
type = varset
trigger1 = command = "qcb_a" || command = "qcb_b" || command = "qcb_c"
trigger1 = animelemtime(2) > 0
var(2) = 1

[State 1000, 7];ヴォルカニックヴァイパー  全  終了動作　叩き落し出来る時間へ
type = ChangeState
trigger1 = Time = 20
value = 1120
ctrl = 0



;                                     ヴォルカニックヴァイパー  叩き落し
[Statedef 1200]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 10
;velset = 0,0
anim = ifelse(var(1) = 0 && var(5) = 1,1210,1200)
ctrl = 0
;sprpriority = 2

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = 0

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時1　消去
type = RemoveExplod
trigger1 = time = 0
ignorehitpause = 1
ID = 1148
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時2　消去
type = RemoveExplod
trigger1 = time = 0
ignorehitpause = 1
ID = 1149
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時3　消去
type = RemoveExplod
trigger1 = time = 0
ignorehitpause = 1
ID = 1150

[State 2, ga3];
type = PlaySnd
trigger1 = Animelem = 1
value = f10, 2
channel = 1

[State 1000, 7];速度
type = veladd
trigger1 = Time = 0
x = 0.9

[State 1000, 7];上昇度
type = velset
trigger1 = Time = 0
y = -3

[State 1000, 7];重力
type = veladd
trigger1 = AnimElemTime(6) >= 1
y = 0.6

[State 200, 1];
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
damage = ifelse(var(5) = 1,50,120), 20
animtype = hard
guardflag = M
hitflag = MAF
priority = 3, Miss
pausetime = 15,15
guard.pausetime = 15,15
sparkno = 9
guard.sparkno = 40
sparkxy = 10, -76
hitsound = 5,4
guardsound =6,0
ground.type = High
ground.slidetime = 50
ground.hittime  = 14
ground.velocity = -3*fvar(15)
ground.cornerpush.veloff = -9*fvar(15)
guard.velocity  = -7
airguard.velocity =-3,6
air.type = High
air.velocity =-2,10
air.hittime = 14
fall = 1;落下させる
fall.recover = 0;受身可否
;fall.recovertime = 40;受身出来るまでの時間
air.fall = 1;相手が空中時のみ落下させる
palfx.time = 1
palfx.add = 0,0,0
p2stateno = 4800
p2facing = 1
getpower = 36,0
givepower = 5,0


[State 1000, 7];ヴォルカニックヴァイパー  全  着地へ
type = ChangeState
trigger1 = Pos Y >= 0.5
trigger1 = Vel Y >  0
value = 1140
ctrl = 0


;                                     ライオットスタンプ上昇
[Statedef 1300]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1300
ctrl = 0
;sprpriority = 2

[state 1,1]
type = velset
trigger1 = time = 1
x = -13.5
y = -4

[state 1,1]
type = playerpush
trigger1 = 1
value = 0

[state 1,1]
type = turn
trigger1 = time = 0 && var(8) = 2

[State 200, 1];上昇
type = PlaySnd
trigger1 = Time = 1
value = f40, 0;
channel = 1
persistent = 0
ignorehitpause = 1

[State 200, 1];キャッチ音ビ！
type = PlaySnd
trigger1 = Time = 1
value = f10, 0;
volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 2, 1];残像
type = AfterImage
trigger1 = time = 0 && var(39) = 0
time = 30
length = 10
palcontrast = 250,250,250
palmul = 0.5,0.5,0.5
palbright = 0,0,0
palpostbright = 0,0,0
paladd = 0,0,0
palcolor = 256
;framegap = 1
;timegap = 3

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 10
y = 0.44

[State 1000, 7];着地へ
type = ChangeState
trigger1 = Pos Y >= 0.5
trigger1 = Vel Y >  0
value = 1312
ctrl = 0

[State 1000, 7];壁接触へ
type = ChangeState
trigger1 = AnimElemTime(3) >= 1
trigger1 = BackEdgeBodyDist <= 5
value = 1305
ctrl = 0


;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ライオットスタンプ　壁接触
[Statedef 1305]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1305
ctrl = 0
;sprpriority = 2

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = f800,0

[State 1000, Effect]
type = PlaySnd
trigger1 = time = 0
value = 1300,0
channel = 0

[State 1000, 7]
type = ChangeState
trigger1 = Time = 7
value = 1310
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ライオットスタンプ　攻撃
[Statedef 1310]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 10
velset = 13,0
anim = 1310
ctrl = 0
;sprpriority = 2



[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,10

[State 1000, 7];重力
type = velset
trigger1 = Time >= 0
trigger1 = Pos Y < -7
y = 2.2;1.5

[State 1000, 7];重力終わり
type = velset
trigger1 = Time >= 0
trigger1 = Pos Y >= -7
y = 0

[State 2, ga3];ヴォルカニックヴァイパー開始音
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200, 10
;channel = 1
persistent = 0
ignorehitpause = 1

[State 240, 3];炎カス
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = Timemod = 7,0
pos = -10,-75
facing = 1
persistent = 1
ignorehitpause = 0
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = Timemod = 7,0
pos = -10,-60
facing = 1
persistent = 1
ignorehitpause = 0
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = Timemod = 7,0
pos = 30,-75
facing = 1
persistent = 1
ignorehitpause = 0
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141

[State 200, 1]
type = HitDef
trigger1 = AnimElemtime(2) >= 0
persistent = 0
attr              = A, SA
damage            = 200, 20
animtype          = hard
guardflag         = H
hitflag           = MAF
priority          = 3, Miss
pausetime         = 12,12
guard.pausetime   = 12,12
sparkno           = ifelse(p2movetype = A,7,3)
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,4
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -6 , -10
guard.velocity    = -7
air.type          = High
air.hittime       = 12
air.velocity      = -6 , -10
guard.velocity = -4  
ground.cornerpush.veloff = -9*fvar(15)
fall              = 1                   ;落下させる
fall.recover      = 1                   ;受身可否
;fall.recovertime  = 55         ;受身出来るまでの時間
air.fall          = 1                   ;相手が空中時のみ落下させる
palfx.time        = 1
palfx.add         = 0,0,0
getpower          = 42,0
givepower         = 5,0
p2stateno = ifelse(p2movetype = A,4840,5000)
p2facing = 1

[State 2, 1];残像
type = AfterImage
trigger1 = time = 0 && var(39) = 0
time = 30
length = 10
palcontrast = 250,250,250
palmul = 0.5,0.5,0.5
palbright = 0,0,0
palpostbright = 0,0,0
paladd = 0,0,0
palcolor = 256
;framegap = 1
;timegap = 3

[state 1,1]
type = changestate
trigger1 = pos y >= 0 && vel y > 0
value = 53

[State 1000, 7];攻撃終了後へ
type = ChangeState
trigger1 = Time = 50
trigger2 = movecontact = 1
trigger3 = FrontEdgeBodyDist <= 24
trigger4 = p2BodyDist x <= 24
triggerall = AnimElemtime(2) > 0
value = 1311
ctrl = 0
;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ライオットスタンプ　攻撃終了後
[Statedef 1311]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
anim = 44
velset = 0
ctrl = 0
;sprpriority = 2

[State 1000, 7];重力
type = veladd
trigger1 = 1
y = 0.5

[State 1000, 7];着地へ
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >  0
value = 1312
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ライオットスタンプ　着地
[Statedef 1312]
type    = C
movetype= I
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 47
ctrl = 0
;sprpriority = 2

[State 1000, 7]
type = Velset
trigger1 = Time >= 0
x = 0
y = 0

[State 1000, 7]
type = Posset
trigger1 = Time  >= 0
trigger1 = Pos Y != 0
y = 0


[State 2 ,2];着地音
type = PlaySnd
trigger1 = time = 0
value = f47, 0;
channel = 2
ignorehitpause = 1
persistent = 0

[State 1000, 7];立ちへ
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1


;バンディットレボルバー
[Statedef 1400]
type = U
movetype = A
physics = S
anim = ifelse(statetype = A,1401,ifelse(var(8) = 0,1400,ifelse(var(8) = 1,1410,1420)))
poweradd = 50
ctrl = 0
juggle = 2

[State 1000, 7];
type = varset
trigger1 = time = 0
var(10) = 0

[state 1,1]
type = movehitreset
trigger1 = animelemtime(3) < 0

[state 1,1]
type = varset
trigger1 = time = 0
var(1) = var(8)

[state 1,1]
type = varset
trigger1 = time = 0
var(5) = ifelse(statetype = A,1,0)

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(4) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -2

[state -2,varset]
type = varadd
trigger1 = movehit && animelemtime(4) > 0
persistent = 0
ignorehitpause = 1
var(59) = 1

[State 170, 1];無敵
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = light
damage = 170-(var(59)*20),10
priority = 3
hitflag = MAF
guardflag = M
pausetime = 16,ifelse(p2movetype != A,16,19)
sparkno = ifelse(p2movetype != A,3,7)
sparkxy = 0,-70
hitsound = 5,4
guardsound = 6,0
ground.slidtime = 10
ground.hittime = 16
ground.velocity = -2,-10
ground.type = Low
guard.slidtime = 10
guard.hittime = 13
guard.velocity = -19
air.velocity = -2,-10
ground.cornerpush.veloff = -9*fvar(15)
air.type = trip
air.fall = 1
fall = 1
fall.recover = 0

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElemtime(8) >= 0 && var(5) = 0
persistent = 0
attr = A, SA
animtype = hard
damage = 200,10
;priority = 3
hitflag = MAF
guardflag = M
pausetime = 12,ifelse(p2movetype != A,12,20)
guard.pausetime = 9,12
sparkno = ifelse(p2movetype != A,3,7)
sparkxy = 0,-70
hitsound = 5,4
guardsound = 6,0
ground.type = high
ground.slidetime = 20
ground.hittime = 15
ground.velocity = -16
guard.hittime = 15
guard.velocity = -16
air.velocity = -5,-4.2+var(59)
ground.cornerpush.veloff = -9*fvar(15)
air.fall = 1
fall.recover = 0


[State 1300, HitDef]
type = HitDef
trigger1 = AnimElem = 8 && var(5) = 1
attr = S, SA
animtype = hard
damage = 80-(var(59)*20),10
priority = 3
hitflag = MAF
guardflag = H
pausetime = 12,ifelse(p2movetype != A,12,24)
sparkno = ifelse(p2movetype != A,3,7)
sparkxy = 0,-70
hitsound = 5,3
guardsound = 6,0
ground.slidtime = 10
ground.hittime = 14
ground.velocity = -12
ground.type = Low
guard.hittime = 20
guard.velocity = -10
air.velocity = -5,-4+var(59)
ground.cornerpush.veloff = -9*fvar(15)
fall = 1
fall.recover = 0
p2stateno = ifelse(p2movetype != A,4800,4805)
p2facing = 1

[State 1300, HitDef]
type = HitDef
trigger1 = var(4) != 0 && animelemtime(9) > 0
persistent = 0
attr = S, SA
animtype = hard
damage = 80-(var(59)*20),10
priority = 3
hitflag = MAF
guardflag = M
pausetime = 12,ifelse(p2movetype != A,12,24)
sparkno = ifelse(p2movetype != A,3,7)
sparkxy = 0,-70
hitsound = 5,3
guardsound = 6,0
ground.slidtime = 10
ground.hittime = 14
ground.velocity = -12
ground.type = Low
guard.hittime = 20
guard.velocity = -10
air.velocity = -5,-4+var(59)
ground.cornerpush.veloff = -11*fvar(15)
fall = 1
fall.recover = 0
p2stateno = ifelse(p2movetype != A,4800,4805)
p2facing = 1


[State 1000, Effect]
type = PlaySnd
trigger1 = time = 0
value = 1400,0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1
channel = 0

[state 1,1]
type = veladd
trigger1 = animelem = 3
y = -8
x = 3+var(1)

[state 1,1]
type = velset
trigger1 = time = 0
y = 0

[state 1,1]
type = veladd
trigger1 = animelemtime(3) > 0
y = .55

[state 1,1]
type = statetypeset
trigger1 = animelem = 3
statetype = A
physics = N


[state 1,1]
type = ChangeState
triggerall = var(5) = 0
trigger1 = animelem = 3
trigger1 = command = "hold_a" || command = "hold_b" || command = "hold_c"
value = 1430



[State 1300, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 1440

;CPUバンディットブリンガー
[Statedef 1401]
type = U
movetype = A
physics = S
anim = 1400
poweradd = 50
ctrl = 0
juggle = 2

[state 1,1]
type = movehitreset
trigger1 = animelemtime(3) < 0

[state 1,1]
type = varset
trigger1 = time = 0
var(1) = var(8)

[state 1,1]
type = varset
trigger1 = time = 0
var(5) = ifelse(statetype = A,1,0)

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(4) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -2

[state -2,varset]
type = varadd
trigger1 = movehit && animelemtime(4) > 0
persistent = 0
ignorehitpause = 1
var(59) = 1

[State 170, 1];無敵
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3




[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,0
channel = 0

[state 1,1]
type = veladd
trigger1 = animelem = 3
y = -8
x = 3+var(1)

[state 1,1]
type = velset
trigger1 = time = 0
y = 0

[state 1,1]
type = veladd
trigger1 = animelemtime(3) > 0
y = .55

[state 1,1]
type = statetypeset
trigger1 = animelem = 3
statetype = A
physics = N


[state 1,1]
type = ChangeState
triggerall = var(5) = 0
trigger1 = animelem = 3
value = 1430



[State 1300, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 1440


;バンディットブリンガーー
[Statedef 1430]
type = A
movetype = A
physics = N
anim = 1431;ifelse(var(1) = 2,1431,1430)
poweradd = 0
ctrl = 0
juggle = 3


[state 1,1]
type = movehitreset
trigger1 = time = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(4) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -3

[state -2,varset]
type = varset
trigger1 = movehit
persistent = 0
ignorehitpause = 1
fvar(12) = 0.8

[state -2,varset]
type = varadd
trigger1 = moveguarded && animelemtime(4) >= 0
ignorehitpause = 1
var(41) = 10

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(4) >= 0
persistent = 0
ignorehitpause = 0
var(58) = 1

[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(1) = 0
pos = -26, -82
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1436
ID = 1430
persistent = 0
ignorehitpause = 1
bindtime = -1
removetime = 6
scale = const(size.xscale),const(size.yscale)

[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(2) = 0
pos = -10, -91
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1436
ID = 1430
persistent = 0
ignorehitpause = 1
bindtime = -1
removetime = 13
scale = const(size.xscale),const(size.yscale)

[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(3) = 0
pos = 6, -77
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1437
ID = 1430
persistent = 0
ignorehitpause = 1
bindtime = -1
scale = const(size.xscale),const(size.yscale)



[State 240, 3];火柱
type = Explod
trigger1 = animelemtime(4) = 0
pos = 56, -13
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
velocity = 4,4
anim = 1435
ID = 1430
persistent = 0
ignorehitpause = 1
;bindtime = 6
scale = const(size.xscale),const(size.yscale)

[State 1300, HitDef]
type = HitDef
trigger1 = animelemtime(9) >= 0 && anim = 1430
trigger2 = animelemtime(4) >= 0 && anim = 1431
persistent = 0
attr = A, SA
animtype = light
damage = 180/var(58),30
priority = 4
hitflag = MAF
guardflag = H
pausetime = 9,ifelse(p2movetype != A,15-var(58),24)
guard.pausetime = 11,15
sparkno = ifelse(p2movetype != A,9,7)
sparkxy = 0,-10
hitsound = 5,4
guardsound = 6,0
ground.slidtime = 10
ground.hittime = 16
ground.velocity = -2,-8
ground.type = Low
guard.hittime = 26
guard.velocity = -10
air.velocity = -2,-8
ground.cornerpush.veloff = -12*fvar(15)
fall = 1
fall.recover = 0
p2stateno = ifelse((p2stateno = [5100,5120]) || var(58) != 1,4800,48015)
p2facing = 1
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 7 && anim = 1430
trigger2 = AnimElem = 4 && anim = 1431
value = 1430,0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 8 && anim = 1430
trigger2 = AnimElem = 4 && anim = 1431
value = 1430,10

[state 1,1]
type = veladd
trigger1 = time = 0
y = -3.1
x = 0.1

[state 1,1]
type = veladd
trigger1 = 1
y = .55

[State 1300, ChangeState]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 1440


[Statedef 1440]
type = C
movetype = I
physics = S
anim = 1440
poweradd = 0
ctrl = 0
juggle = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = f47,0

[state 1,1]
type = velset
trigger1 = time = 0
y = 0

[state 1,1]
type = posset
trigger1 = time = 0
y = 0

[State 1300, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = ifelse(command = "holddown",11,0)
ctrl = 1

;ぶっきらぼうに投げる
[Statedef 1500]
type = S
movetype = A
physics = S
anim = ifelse(var(8) = 0,1500,ifelse(var(8) = 1,1510,1520))
poweradd = 40
ctrl = 0
juggle = 5

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElem = 2 && p2stateno != 40
attr = A, ST
animtype = hard
damage = 0,0
priority = 2
hitflag = M-
guardflag = 
numhits = 0
pausetime = 0,0
sparkno = 0
sparkxy = 0,-70
hitsound = 800,0
guardsound = 6,0
ground.type = Low
ground.hittime = 15
guard.hittime = 23
guard.velocity = 0
fall = 1
fall.recover = 0
p1stateno = 1501
p2stateno = 1550
p2facing = 1

[State 1300, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = ifelse(command = "holddown",11,0)
ctrl = 1

;
[Statedef 1501]
type = S
movetype = A
physics = S
anim = 1501
poweradd = 100
ctrl = 0
velset = 0,0

[state -2,varset]
type = varadd
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
var(40) = -5

[State 810,Width]
type = Width
;triggerall = Target,BackEdgeBodyDist < 25
trigger1 = Time = 0
edge = 25,Floor(P2Dist X + 25)

[State -2, 5.1];ぶっきらぼう補正
type = varset
trigger1 = time = 0
fvar(12) = 0.65



[state 1,1]
type = nothitby
trigger1 = 1
value = SCA

[state 1,1]
type = targetbind
trigger1 = animelem = 1
pos = 30,0

[state 1,1]
type = targetbind
trigger1 = animelem = 2
pos = 54,-107

[state 1,1]
type = targetbind
trigger1 = animelem = 3
pos = 56,-103

[state 1,1]
type = targetbind
trigger1 = animelem = 4
pos = 52,-98

[state 1,1]
type = targetbind
trigger1 = animelem = 5
pos = 51,-98

[state 1,1]
type = targetbind
trigger1 = animelem = 6
pos = 54,-96

[state 1,1]
type = targetbind
trigger1 = animelem = 7
pos = 46,-113

[state 1,1]
type = targetbind
trigger1 = animelem = 8
pos = -51,-126

[state 1,1]
type = targetbind
trigger1 = animelem = 9
pos = -47,-88

[state 1,1]
type = targetbind
trigger1 = animelem = 11
pos = -55,-25

[state 1,1]
type = targetlifeadd
trigger1 = animelem = 11
value = 0

[state 810,3]
type = changestate
trigger1 = p2stateno = 825
value = 105

[state 1,1]
type = playsnd
trigger1 = animelem = 8
value = f10,0

[state 1,1]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,2

[state 1,1]
type = playsnd
trigger1 = animelem = 5
value = 1500,var(1)
channel = 0


[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1300, ChangeState]
type = turn
trigger1 = animelem = 12

[State 1300, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = ifelse(command = "holddown",11,0)
ctrl = 1

; やられ
[Statedef 1550]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1026, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[state 820,2]
type = changestate
trigger1 = time = [1,10]
trigger1 = command = "x"
trigger1 = command = "a"
value = 825

[state 820,2]
type = changeanim2
trigger1 = time = 0
value = 1550

[state 1701,1]
type = turn
trigger1 = !AnimTime

[state 1701,1]
type = selfstate
trigger1 = !AnimTime
value = 4805

[state 1701,1]
type = selfstate
trigger1 = p2stateno != [1500,1521]
value = 5000


;ふぁふにーり
[Statedef 1600]
type = U
movetype = A
physics = S
anim = 1602
poweradd = -500
ctrl = 0
juggle = 3


[State -2, 2] 
type = PalFX
trigger1 = time = 0
time = 10
add = 32,32,-256
sinadd = 32, 32, -256, 3

[State 500, 1]
type = AfterImage
trigger1 = Time = 0
trigger1 = var(39) = 0
time = 42
FrameGap = 4
length = 7
PalBright   =  0,0,0
PalContrast = 100,100,100
PalAdd      =  0,0,0
PalMul      =  1,1,1
Trans = Add1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = F1000,0


[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1600,0
channel = 0

[State 240, 3];炎カス
type = Explod
trigger1 = AnimElem = 1
pos = -2,-65
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 10
;random = 50, 50
ownpal = 1
anim = 1605
ID = 1605
Scale = 0.6,0.6

[state 1,1]
type = changestate
trigger1 = time = 1
value = 1601

;ふぁふにーり
[Statedef 1601]
type = S
movetype = A
physics = S
ctrl = 0
juggle = 3

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(6) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -3

[State -2, 5.1];ぶっきらぼう補正
type = varset
trigger1 = movehit && fvar(12) >= 0.7
fvar(12) = 0.7
persistent = 0
ignorehitpause = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(6) >= 0
;persistent = 0
ignorehitpause = 1
var(41) = -4

[state -2,varset]
type = varadd
trigger1 = moveguarded
persistent = 0
ignorehitpause = 1
var(41) = 20

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(6) > 0
persistent = 0
ignorehitpause = 0
var(50) = 1

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElemtime(6) >= 0
persistent = 0
attr = S, SA
animtype = hard
damage = 340/var(50),20
priority = 5
hitflag = MAF
guardflag = M
pausetime = ifelse((p2dist x = [0,45]) && (p2dist y = [-45,0]),30,12),ifelse((p2dist x = [0,45]) && (p2dist y = [-45,0]),30,12)
guard.pausetime = 12,14
sparkno = ifelse(p2movetype != A,9,7)
sparkxy = 0,-70
getpower = 0,0
hitsound = 5,4
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 20
guard.hittime = 18
ground.velocity = -5,-6
guard.velocity = -10
air.velocity = -6,-6
ground.cornerpush.veloff = -10*fvar(15)
air.fall = 1
fall = 1
fall.recover = 1
p2stateno = ifelse((p2dist x = [0,45]) && (p2dist y = [-45,0]),4840,ifelse(var(50) = 1,4945,5000))
p2facing = 1




[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1600,10

[state 1,1]
type = velset
trigger1 = time = 0
x = 16

[state 1,1]
type = statetypeset
trigger1 = animelem = 7
movetype = I



[State 240, 3];炎
type = Explod
trigger1 = AnimElem = 2
pos = 1,-52
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 10
ownpal = 1
anim = 1610
ID = 1610
Scale = 0.5,0.5

[State 240, 3];炎
type = Explod
trigger1 = AnimElem = 5
pos = 83,-88
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 10
ownpal = 1
anim = 1611
ID = 1610
Scale = 0.5,0.5

[State 1300, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;グランドバイパー
[Statedef 1700]
type = C
movetype = A
physics = S
anim = 1700+var(8)
poweradd = 50
ctrl = 0
juggle = 0

[state 1,1]
type = movehitreset
trigger1 = 1

[state 1,1]
type = varset
trigger1 = time = 0
var(5) = 0

[state 1,1]
type = varset
trigger1 = time = 0
var(1) = var(8)



[State 1300, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1710

;グランドバイパー
[Statedef 1710]
type = C
movetype = A
physics = N
anim = 1710
poweradd = 0
ctrl = 0
juggle = 0



[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit
persistent = 0
ignorehitpause = 1
var(40) = 0

[state -2,varset]
type = varadd
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
persistent = 1
ignorehitpause = 1
var(5) = 1

[state -2,varset]
type = veladd
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
persistent = 1
ignorehitpause = 1
x = 0.4

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemtime(1) = 1
value = 1450,10

[State 1];炎のエフェクト
type = Explod
trigger1 = AnimElemtime(1) = 1
persistent = 1
pos = 40,-15
facing = 1
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1703
ID = 1700
Vel = -2

[State 1300, HitDef]
type = HitDef
trigger1 = 1
attr = SC, SA
animtype = light
damage = 30,20
priority = 3
hitflag = MAF
guardflag = L
pausetime = 5,2
sparkno = 9
sparkxy = 0,-10
hitsound = 5,4
guardsound = 6,0
ground.slidtime = 5
ground.hittime = 16
ground.velocity = -12*fvar(15)
ground.type = Low
guard.hittime = 13
guard.velocity = -10
air.velocity = -2,-8
ground.cornerpush.veloff = -4*fvar(15)
air.type = trip
air.fall = 1
fall.recover = 0
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[State 1000, Width]
type = Width
trigger1 = 1
value = 15,0

[state 1,1]
type = veladd
trigger1 = 1
x = ifelse(var(1) = 0,0.3,ifelse(var(1) = 1,0.4,0.5))

[state 1,1]
type = velset
trigger1 = time = 0
y = 0
x = 8+(var(1)*3)

[state 1,1]
type = ChangeState
trigger1 = var(4) = 0 && time > 4+(var(1)*3)+(var(5)/3)
trigger2 = var(4) != 0 && time > 6+(var(1)*3)+(var(5)/2)
trigger3 = time > 150
value = ifelse(movecontact = 0,1715,1720+var(1))

;硬直
[Statedef 1715]
type = C
movetype = I
physics = S
anim = 1715
poweradd = 0
ctrl = 0
juggle = 0

[state 1,1]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;バンディットレボルバー
[Statedef 1722]
type = S
movetype = A
physics = N
anim = 1720
poweradd = 10
ctrl = 0
juggle = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1450,0
channel = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(2) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 170, 1];無敵
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = ,Np,SP,HP
time = 3

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
animtype = light
damage = 50,20
priority = 3
hitflag = MAF
guardflag = M
pausetime = 9,ifelse(p2movetype != A,9,11)
sparkno = ifelse(p2movetype != A,3,7)
sparkxy = 0,-70
hitsound = 5,3
guardsound = 6,0
ground.slidtime = 10
ground.hittime = 16
ground.velocity = -2,-8
ground.type = Low
guard.hittime = 26
guard.velocity = -10
ground.cornerpush.veloff = -3*fvar(15)
air.velocity = -2,-8
air.type = trip
fall = 1
fall.recover = 1

[state 1,1]
type = velset
trigger1 = animelem = 3
y = -12
x = 3+var(1)

[state 1,1]
type = velset
trigger1 = time = 0
y = 0
x = 1

[state 1,1]
type = veladd
trigger1 = animelemtime(2) > 0
y = .55

[state 1,1]
type = statetypeset
trigger1 = animelem = 2
statetype = A
physics = N


[state 1,1]
type = ChangeState
trigger1 = animtime = 0
value = 1730

[Statedef 1730]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 80
;velset = 0,0
anim = 1103
ctrl = 0
;sprpriority = 2

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(2) > 0
persistent = 0
ignorehitpause = 1
var(40) = -1

[State 1000, 7];
type = varset
trigger1 = time = 0
var(2) = 0


[State 1000, 7];
type = velset
trigger1 = time = 0
y = 0
;x = 1

[State 170, 1];無敵
type = NotHitBy
trigger1 = 1
value = SCA
time = 2



[State 2, ga3];ヴォルカニックヴァイパー開始音
type = PlaySnd
trigger1 = AnimElem = 3
value = 1100, 10
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1



;++++++++++++++++++++++++++++++
;********************************
[State 1];ヴォルカニックヴァイパー　封炎剣　炎１
type = Explod
trigger1 = AnimElem = 2
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1145
ID = 1145
RemoveTime = 3
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎１消去
type = RemoveExplod
trigger1 = AnimElem = 3
ignorehitpause = 1
ID = 1145
[State 1];ヴォルカニックヴァイパー　封炎剣　炎２
type = Explod
trigger1 = AnimElem = 3
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 50
ownpal = 1
anim = 1146
ID = 1146
RemoveTime = 12
BindTime = -1
;********************************

[state 1,1]
type = targetlifeadd
trigger1 = movehit = 1
value = -100
absolute = 1

[State 200, 1];
type = HitDef
trigger1 = AnimElem = 3
attr              = SC, SA
damage            = 50,30
animtype          = hard
guardflag         = MA
hitflag           = MAF
priority          = 3, Miss
pausetime         = 12,12  
guard.pausetime   = 12,12
sparkno           = 9
guard.sparkno     = 40
sparkxy          = 0, -45
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -1 , -9 
guard.velocity    = -4
air.type          = High
air.hittime       = 12
air.velocity      = -1 , -9 
airguard.velocity = -1 , -9 
fall              = 1                  ;落下させる
fall.recover      = ifelse(p2movetype = A,0,1)                 ;受身可否
fall.recovertime  = 40         ;受身出来るまでの時間
air.fall          = 1                  ;相手が空中時のみ落下させる
down.velocity     = 0,-3
down.hittime      = 12
down.bounce       = 1
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
getpower          = 48,0
givepower         = 5,0


[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1740
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  地上Ｓ　上昇
[Statedef 1740]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1110
ctrl = 0
;sprpriority = 2

[State 170, 1];無敵
type = NotHitBy
trigger1 = Time <= 3 && var(1) = 1
value = SCA
time = 2

[State 1000, 7];速度
type = velset
trigger1 = Time = 0
x = 0.1

[State 1000, 7];速度
type = veladd
trigger1 = Time = 0
x = 0.5

[State 1000, 7];上昇度
type = velset
trigger1 = (Time = [3,5]) && var(1) = 0
trigger2 = (Time = [3,7]) && var(1) = 1
trigger3 = (Time = [3,9]) && var(1) = 2
y = -6.5-(var(1)*2)

[State 1000, 7];重力
type = veladd
trigger1 = Time >= 0
y = 0.6


;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = AnimElem = 1
ignorehitpause = 1
ID = 1146
[State 1];ヴォルカニックヴァイパー　封炎剣　炎３
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1147
ID = 1147
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎３消去１フレ以下だけど剣が見えるのを阻止
type = RemoveExplod
trigger1 = AnimElemTime(2) >= 2
ignorehitpause = 1
ID = 1147

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時1
type = Explod
trigger1 = NumExplod(1148) = 0
trigger1 = AnimElemTime(2) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1148
ID = 1148
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時1消去
type = RemoveExplod
trigger1 = AnimElemTime(2) != [1,3]
ignorehitpause = 1
ID = 1148

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時2
type = Explod
trigger1 = NumExplod(1149) = 0
trigger1 = AnimElemTime(3) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1149
ID = 1149
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時2消去
type = RemoveExplod
trigger1 = AnimElemTime(3) != [1,3]
ignorehitpause = 1
ID = 1149

[State 1];ヴォルカニックヴァイパー　封炎剣　炎 攻撃時3
type = Explod
trigger1 = NumExplod(1150) = 0
trigger1 = AnimElemTime(4) = 1
pos = 0,0
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1150
ID = 1150
RemoveTime = ifelse(movecontact = 1,-1,4)
BindTime = -1
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎  攻撃時3消去
type = RemoveExplod
trigger1 = AnimElemTime(4) != [1,3]
ignorehitpause = 1
ID = 1150
;********************************
;********************************
[State 240, 3];炎カス1
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-170
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 10
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス2
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 45,-140
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス3
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-100
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス4
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-60
facing = -1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス5
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 40,-20
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス6
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 10,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス7
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-120
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 30
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス8
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 20,-40
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
[State 240, 3];炎カス10
type = Explod
trigger1 = NumExplod(1141) < 30
trigger1 = AnimElemTime(2) >= 1
trigger1 = Timemod = 7,0
pos = 70,-60
facing = 1
persistent = 1
ignorehitpause = 1
sprpriority = 40
random = 30, 50
ownpal = 1
anim = 1141
ID = 1141
;********************************

[State 200, 1];
type = HitDef
trigger1 = animelemtime(1) >= 0
persistent = 0
attr              = A, SA
damage            = 50,20
animtype          = hard
guardflag         = M
hitflag           = MAF
priority          = 3, Miss
pausetime         = 12,12   
guard.pausetime   = 12,12
sparkno           = 9
sparkxy = 0,-50
guard.sparkno     = 40
hitsound          = 5,3
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 50
ground.hittime    = 12
ground.velocity   = -2 , -10-(var(1)*2)
guard.velocity    = -7
ground.cornerpush.veloff = -4*fvar(15)
air.type          = High
air.hittime       = 12
air.velocity      = -2 , -9-(var(1)*3)
airguard.velocity = -4 , -3  
fall              = 1                   ;落下させる
fall.recover      = 0                ;受身可否
fall.recovertime  = 33          ;受身出来るまでの時間
air.fall          = 1                   ;相手が空中時のみ落下させる
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
getpower          = 48,0
givepower         = 5,0



[State 1000, 7];ヴォルカニックヴァイパー  全  終了動作　叩き落し出来る時間へ
type = ChangeState
trigger1 = Time = 13+(var(1)*2)
value = 1750
ctrl = 0

;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
;                                     ヴォルカニックヴァイパー  全　終了動作　叩き落し出来る時間
[Statedef 1750]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
;velset = 0,0
anim = 1120
ctrl = 0
;sprpriority = 2

;********************************
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時1　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1148
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時2　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1149
[State 1]; ヴォルカニックヴァイパー　封炎剣　炎　攻撃時3　消去
type = RemoveExplod
trigger1 = AnimElem = 2
ignorehitpause = 1
ID = 1150
[State 1];ヴォルカニックヴァイパー　封炎剣　炎　終了
type = Explod
trigger1 = AnimElem = 2
pos = 0,20
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 50
ownpal = 1
anim = 1151
ID = 1151
vel = 0,-3
;********************************

[State 1000, 7];重力　通常
type = veladd
triggerall = Var(19)     = 0
trigger1   = Time       >= 0
y = 0.5

[State 1000, 7];重力　叩き落し出来る時
type = veladd
triggerall = Var(19)     = 10
trigger1   = Time       >= 0
y = 0.30


[State 1000, 7];ヴォルカニックヴァイパー  全  落下へ
type = ChangeState
trigger1 = AnimTime = 0
value = 1130
ctrl = 0

;ふぁふにーり
[Statedef 1720]
type = U
movetype = A
physics = S
anim = 1722
poweradd = 50
ctrl = 0
juggle = 3

[state 1,1]
type = velset
trigger1 = time = 0
x = var(5)/4.5

[state 1,1]
type = velset
trigger1 = vel x < 0
x = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1700,1
channel = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(6) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -3



[State 240, 3];タイランレイブ　手の炎　１
type = Explod
trigger1 = AnimElem = 5
pos = 55,-109
postype = p1
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
bindtime = -1
anim = 3002
ID = 2000
scale = const(size.xscale),const(size.yscale)

[State 1100, 7]
type = posadd
trigger1 = animelem = 1 || animelem = 2 || animelem = 4 || animelem = 5
x = 1

[State 1720, HitDef]
type = HitDef
trigger1 = AnimElemtime(5) >= 0
persistent = 0
attr = SC, SA
animtype = hard
damage = 150,20
priority = 5
hitflag = MAF
guardflag = M
pausetime = ifelse((p2dist x = [0,38]) && (p2dist y = [-45+(var(1)*2),0]),25,12),ifelse((p2dist x = [0,38]) && (p2dist y = [-45+(var(1)*2),0]),35,12)
guard.pausetime = 14,12
sparkno = ifelse(p2movetype != A,9,7)
sparkxy = 0,-70
hitsound = 5,4
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 14
guard.hittime = 15
ground.velocity = -1,ifelse((p2dist x = [0,38]) && (p2dist y = [-45+(var(1)*2),0]),-18,-15)
guard.velocity = -15
air.velocity = -1,ifelse((p2dist x = [0,38]) && (p2dist y = [-45+(var(1)*2),0]),-18,-15)
ground.cornerpush.veloff = -9*fvar(15)
air.fall = 1
fall = 1
fall.recover = ifelse((p2dist x = [0,38]) && (p2dist y = [-45+(var(1)*2),0]),0,1)
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1



[State 1300, ChangeState]
type = ChangeState
trigger1 = movehit = 1 && (p2dist x = [0,39]) && (p2dist y = [-46+(var(1)*2),0])
trigger1 = HitShakeOver
value = 1780

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1600,10

[state 1,1]
type = posadd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5
x = 3+var(1)

[state 1,1]
type = velset
trigger1 = time = 0
y = 0

[state 1,1]
type = statetypeset
trigger1 = animelem = 7
movetype = I


[State 1300, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

[Statedef 1780]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1780
velset = 0,0

[State 1000, Effect]
type = PlaySnd
trigger1 = time = 1
value = 260,0
channel = 0

[state 1,1]
type = posadd
trigger1 = animelem = 3 || animelem = 4 || animelem = 5
x = 12

[State 1000, Effect]
type = PlaySnd
trigger1 = animelemtime(6) = 0
value = 3000,10


[State 310, HitDef]
type = HitDef
trigger1 = animelemtime(6) >= 0
persistent = 0
attr = S, SA
animtype = up
damage = 100,20
hitflag = MAF
guardflag = M
getpower = 0,0
numhits = 1
pausetime = ifelse(p2movetype = A,30,20),ifelse(p2movetype = A,30,20)
guard.pausetime = 20,20
sparkno = ifelse(p2movetype = A,7,9)
sparkxy = 0,-60
hitsound = 5,41
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 15
guard.hittime = 15
ground.velocity = -1,-20
guard.velocity = -15
air.velocity = -1,-20
fall = 1
fall.recovertime = ifelse(p2movetype = A,120,90)
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[State -2, 5.1];ぶっきらぼう補正
type = varset
trigger1 = movehit && fvar(12) = 1
fvar(12) = 0.85
persistent = 0
ignorehitpause = 0


[State 310, ChangeState]
type = statetypeset
trigger1 = animelem = 7
movetype = I


[State 310, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1


;ふぁふにーり
[Statedef 1721]
type = S
movetype = A
physics = S
anim = 1721
poweradd = 50
ctrl = 0
juggle = 3

[state 1,1]
type = velset
trigger1 = time = 0
x = var(5)/5

[state 1,1]
type = velset
trigger1 = vel x < 0
x = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1700,1
channel = 0

[State 240, 3];炎カス
type = Explod
trigger1 = AnimElem = 1
pos = -2,-65
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 10
;random = 50, 50
ownpal = 1
anim = 1605
ID = 1605
Scale = 0.6,0.6


[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(6) >= 0
persistent = 0
ignorehitpause = 1
var(40) = -3

[State -2, 5.1];ぶっきらぼう補正
type = varset
trigger1 = movehit && fvar(12) = 1
fvar(12) = 0.7
persistent = 0
ignorehitpause = 0

[state -2,varset]
type = varadd
trigger1 = p2statetype = A
trigger1 = movehit && animelemtime(6) >= 0
;persistent = 0
ignorehitpause = 1
var(41) = -4

[state -2,varset]
type = varadd
trigger1 = moveguarded
persistent = 0
ignorehitpause = 1
var(41) = 20

[State 1721, HitDef]
type = HitDef
trigger1 = AnimElemtime(6) >= 0
persistent = 0
attr = S, SA
animtype = hard
damage = 250,20
priority = 5
hitflag = MAF
guardflag = M
pausetime = ifelse((p2dist x = [0,40]) && (p2dist y = [-45+(var(1)*2),0]),20,12),ifelse((p2dist x = [0,40]) && (p2dist y = [-45+(var(1)*2),0]),20,12)
guard.pausetime = 14,12
sparkno = ifelse(p2movetype != A,9,7)
sparkxy = 0,-70
hitsound = 5,4
guardsound = 6,0
ground.type = high
ground.slidetime = 8
ground.hittime = 14
guard.hittime = 13
ground.velocity = -5,-10
guard.velocity = -9
air.velocity = -5,-10
ground.cornerpush.veloff = -9*fvar(15)
air.fall = 1
fall = 1
fall.recover = 1
p2stateno = ifelse((p2dist x = [0,40]) && (p2dist y = [-45+(var(1)*2),0]),4840,5000)
p2facing = 1




[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1600,10

[state 1,1]
type = posadd
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5
x = 2

[state 1,1]
type = velset
trigger1 = time = 0
y = 0

[state 1,1]
type = statetypeset
trigger1 = animelem = 7
movetype = I



[State 240, 3];炎
type = Explod
trigger1 = AnimElem = 2
pos = 1,-52
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 10
ownpal = 1
anim = 1610
ID = 1610
Scale = 0.5,0.5

[State 240, 3];炎
type = Explod
trigger1 = AnimElem = 5
pos = 83,-88
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 10
ownpal = 1
anim = 1611
ID = 1610
Scale = 0.5,0.5

[State 1300, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1



;サイドワインダー
[Statedef 1800]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 50
ctrl = 0
anim = ifelse(var(4) != 0,1830,ifelse(var(8) = 0,1800,ifelse(var(8) = 1,1810,1820)))

[state 1,gravity]
type = gravity
trigger1 = 1

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 2
pos = 0,0
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = -2
anim = 1801
ID = 1800
scale = 0.5,0.5

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1600,10

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1100,10

[State 1000, Effect]
type = targetlifeadd
trigger1 = animelemtime(5) >= 0 && movehit
value = ifelse(anim = 1830,-60,ifelse(anim = 1800,-30,ifelse(anim = 1810,-40,-50)))
persistent = 0
ignorehitpause = 1
absolute = 1

[State 1800,hitdef]
type = HitDef
trigger1 = animelemtime(5) >= 0
persistent = 0
attr              = A, SA
damage            = 150,20
animtype          = hard
guardflag         = H
hitflag           = MAF
priority          = 3, Miss
pausetime         = ifelse(p2movetype = A || (p2dist x = [0,50-var(2)+var(1)]) && (p2dist y = [-15+var(2)-var(1),35]),30,15),ifelse(p2movetype = A || (p2dist x = [0,50-var(2)+var(1)]) && (p2dist y = [-15+var(2)-var(1),35]),30,15)
guard.pausetime   = 12,12
sparkno           = ifelse(p2movetype = A,7,9)
sparkxy = 0,-71
guard.sparkno     = 40
hitsound          = 5,31
guardsound        = 6,0
ground.type       = High
ground.slidetime  = 20
ground.hittime    = 13
ground.velocity   = -6 , -10
guard.velocity    = -12
ground.cornerpush.veloff = -9*fvar(15)
air.type          = High
air.hittime       = 12
air.velocity      = -6 , -10 
fall              = 1                   ;落下させる
fall.recover      = 1                ;受身可否
fall.recovertime  = 10          ;受身出来るまでの時間
air.fall          = 1                   ;相手が空中時のみ落下させる
palfx.time        = 60
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2facing          = 1
p2stateno = ifelse(p2movetype = A || (p2stateno != [4840,4844]) && (p2dist x = [0,50-var(2)+var(1)]) && (p2dist y = [-15+var(2)-var(1),35]),4840,5000)

[State 2 ,2]
type = PlaySnd
trigger1 = animelem = 4
value = f10,2;
channel = 2
ignorehitpause = 1
persistent = 0

[state 1,1]
type = varset
trigger1 = time = 0
var(1) = var(8)+1

[state 1,1]
type = varset
trigger1 = 1
var(2) = var(57)*4

[state 1,1]
type = varadd
trigger1 = movehit = 1 && fvar(12) > 0.3
fvar(12) = -0.1
ignorehitpause = 1
persistent = 0


[state 1,1]
type = varadd
trigger1 = movehit = 1
var(57) = 1
persistent = 0

[State 1800,1]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 1840

[Statedef 1840]
type    = C
movetype= I
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1840
ctrl = 0
sprpriority = 2

[State 1000, 7]
type = Velset
trigger1 = Time = 0
x = 0
y = 0

[State 1000, 7]
type = Posset
trigger1 = Time  >= 0
trigger1 = Pos Y != 0
y = 0



[State 2 ,2];着地音
type = PlaySnd
trigger1 = time = 0
value = f47, 0;
channel = 2
ignorehitpause = 1
persistent = 0

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;サマウォック・ムロスコ
[Statedef 2000]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2000
velset = 0,0

[state 1,1]
type = superpause
trigger1 = animelem = 3
anim = 100
pos = -51,-88
time = 50
movetime = 50
sound = f20,0
poweradd = -1000

[state -2,varset]
type = varset
trigger1 = projhit(2000) = 1
persistent = 0
ignorehitpause = 1
var(53) = 1

[state -2,varset]
type = varadd
trigger1 = ProjGuarded(2000) = 1
;persistent = 0
ignorehitpause = 1
var(41) = 10

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 1
pos = -53,-96
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 11
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 3
pos = -50,-89
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 2
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 4
pos = -50,-87
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 6
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 5
pos = -50,-86
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 4
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 6
pos = -46,-104
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 4
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 7
pos = 49,-128
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 4
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 8
pos = 47,-88
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 4
anim = 2001
ID = 2001

[State 240, 3];手の炎　
type = Explod
trigger1 = AnimElem = 9
pos = 28,-4
postype = p1
facing = 1
persistent = 0
ignorehitpause = 0
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 4
anim = 2001
ID = 2001

[State 1060, 5]
type = Projectile
trigger1 = AnimElem = 9
projanim = 2002
projremovetime = 28
projhitanim = 2002
projID = 2000
postype = p1
offset = 20,0
velocity = 0
attr = S, SP
damage = ifelse((prevstateno = [1000,1999]),150,400),20
animtype = Hard
hitflag = MAFP
guardflag = M
getpower = 0,0
pausetime = 0,ifelse(var(53) = 0,9,0)
guard.pausetime = 0,16
sparkno = 6
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 44
ground.velocity = -1.5,-12.5
air.velocity = -2,-12
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
fall = 1
fall.recover = 0


[state 1,1]
type = nothitby
trigger1 = time = 0
value = SCA
time = 65

[state 1,1]
type = playsnd
trigger1 = animelem = 9
value = 2000,10

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2300,0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2300,1
channel = 0

[state 1,1]
type = posadd
trigger1 = animelem = 2 || animelem = 7
trigger2 = animelem = 8 || animelem = 6 || animelem = 4 || animelem = 5
x = 8

[State 310, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1


;アンセム
[Statedef 2100]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2100
velset = 0,0

[state 1,1]
type = superpause
trigger1 = animelem = 1
anim = 100
pos = -6,-77
time = 50
movetime = 50
sound = f20,0
poweradd = -1000

[State 1000, Effect]
type = PlaySnd
trigger1 = time = 1
value = 2100,0
channel = 0

[state 1,1]
type = nothitby
trigger1 = animelemtime(1) = 0
value = SCA
time = 60

[State 1000, Effect]
type = PlaySnd
trigger1 = animelemtime(6) = 0
value = 3000,10

[State 1000, Effect]
type = PlaySnd
trigger1 = animelemtime(6) = 0
value = 2100,1
channel = 0

[State 310, HitDef]
type = HitDef
trigger1 = animelemtime(6) >= 0
persistent = 0
attr = S, HA
animtype = up
damage = ifelse((prevstateno = [1000,1999]),150,280),20
hitflag = MAF
guardflag = M
getpower = 0,0
numhits = 1
pausetime = ifelse(p2movetype = A,30,20),ifelse(p2movetype = A,32,20)
guard.pausetime = 20,20
sparkno = ifelse(p2movetype = A,7,9)
sparkxy = 0,-60
hitsound = 5,41
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 15
guard.hittime = 15
ground.velocity = -1,-20
guard.velocity = -15
air.velocity = -1,-20
fall = 1
fall.recovertime = ifelse(p2movetype = A,120,76)
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[state 1,1]
type = varset
trigger1 = movehit = 1 && fvar(12) = 1.0
fvar(12) = 0.6

[state 1,1]
type = posadd
trigger1 = animelem = 3 || animelem = 4 || animelem = 5
x = 10

[State 310, ChangeState]
type = ChangeState
trigger1 = animelem = 7
value = 2110

[Statedef 2110]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd= 0
ctrl = 0


[State 310, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1


;タイランレイブ
[statedef 2200]
type = S
movetype = A
physics = S
anim  = 2200
ctrl = 0
poweradd = 0
facep2 = 1

[State 1300, 1]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 1305, 1]
type = PlaySnd
trigger1 = Time = 1
value = 2200,0
channel = 0

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 2200,1
channel = 0

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 2000,10

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 2200,10

[State 240, 3];タイランレイブ　手の炎　１
type = Explod
trigger1 = AnimElem = 1
pos = 0,0
postype = p1
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = 27
anim = 2201
ID = 2201

[State 1300, 1]
type = superpause
trigger1 = animelem = 2
anim = 101
pos = 14,-59
time = 50
sound = f20,2
poweradd = -2000
movetime = 50
p2defmul = 1.2

[State 1100, 7]
type = VelSet
trigger1 = time = 0
y = 0
x = 0

[State 310, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, HA
animtype = Medium
damage = ifelse((prevstateno = [1000,1999]),100,200),20
hitflag = MAF
guardflag = M
getpower = 0,0
numhits = 1
pausetime = 6,12
guard.pausetime = 6,12
sparkno = 6
sparkxy = 0,-60
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 10
ground.velocity = 0,-9
guard.velocity = -15
air.velocity = 0,-9
air.type = trip
fall = 1
fall.recover = 0
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[State 1060, 5]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2202
projhitanim = 2202
projremovetime = 9
projID = 2200
postype = p1
offset = 80,-100
velocity = 1
accel = 0,0
getpower = 0,0
attr = S, SP
damage = 200,20
animtype = Hard
hitflag = MAFP
guardflag = M
pausetime = 0,12
sparkno = 6
hitsound = 5,3
guardsound = 6,0
ground.type = trip
ground.slidetime = 14
ground.hittime  = 20
ground.velocity = -9
air.velocity = -6.5,-9
fall = 1
fall.recover = 0
air.juggle = 0
p2facing = 1
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2stateno = 4945

[State 1060, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 2203
projhitanim = 2203
projremovetime = 30
projID = 2200
postype = p1
offset = 91,-100
velocity = 0.1
accel = 0.02,0
getpower = 0,0
attr = S, SP
damage = 400,20
animtype = Hard
hitflag = MAFP
guardflag = M
pausetime = 0,12
sparkno = 6
hitsound = 5,4
guardsound = 6,0
ground.type = low
ground.slidetime = 14
ground.hittime  = 20
ground.velocity = -9
air.velocity = -6.5,-9
fall = 1
fall.recover = 0
air.juggle = 0
p2stateno = 4945
p2facing = 1
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[State 1305, 8]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1



;タイランレイブ　ver.γ
[Statedef 2300]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 2300
velset = 0,0

[state 1,1]
type = superpause
trigger1 = animelem = 3
anim = 101
pos = 20,-7
time = 50
movetime = 50
sound = f20,2
poweradd = -2000

[state 1,1]
type = playerpush
trigger1 = animelemtime(3) > 0
value = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElemtime(4) = 1
value = 1450,10

[State 1];炎のエフェクト
type = Explod
trigger1 = AnimElemtime(4) = 1
persistent = 1
pos = 40,-15
facing = 1
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 1703
ID = 1700
Vel = -2

[State 1300, HitDef]
type = HitDef
trigger1 = animelemtime(4) >= 0
persistent = 0
attr = A, HA
animtype = light
damage = ifelse((prevstateno = [1000,1999]),450,700),20
priority = 6
hitflag = MAF
guardflag = M
pausetime = 1,0
guard.pausetime = 1,12
sparkno = 6
sparkxy = 0,-40
hitsound = 5,4
guardsound = 6,0
ground.slidtime = 10
ground.hittime = 16
ground.velocity = -10
ground.type = Low
guard.hittime = 13
guard.velocity = -10
air.velocity = -2,-8
air.fall = 1
fall.recover = 0
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1
p2stateno = 4820
p2facing = 1

[State 1060, 5]
type = explod
trigger1 = AnimElemtime(4) = 1
persistent = 1
pos = 40,-15
facing = 1
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2301
ID = 1702
bindtime = -1

[state 1,1]
type = posadd
trigger1 = animelemtime(3) < 0
y = -8

[state 1,1]
type = velset
trigger1 = animelemtime(4) = 0
x = 10
persistent = 0

[state 1,1]
type = veladd
trigger1 = animelemtime(4) >= 0
x = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = animelem = 1
value = 2000,0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = animelem = 4
value = 2000,1
channel = 0
persistent = 0

[State 310, ChangeState]
type = ChangeState
;trigger1 = FrontEdgeBodyDist < 21 && animelemtime(3) >= 50
trigger1 = time = 90
value = 2310

[statedef 2310]
type = A
movetype = I
physics = N
anim  = 45
ctrl = 0
poweradd = 0

[state 1,1]
type = velset
trigger1 = time = 0
x = 0
y = -3

[state 1,1]
type = veladd
trigger1 = 1
y = .65

[State 310, ChangeState]
type = ChangeState
trigger1 = pos Y >= 0 && vel Y > 0
value = 2320

[statedef 2320]
type = C
movetype = I
physics = S
anim  = 10
ctrl = 0
poweradd = 0
 
[state 1,1]
type = velset
trigger1 = time = 0
y = 0
x = 0

[state 1,1]
type = posset
trigger1 = time = 0
y = 0

[State 310, ChangeState]
type = ChangeState
trigger1 = time = 20
value = ifelse(command = "holddown",11,0)
ctrl = 1

;ナパームデス
[statedef 2400]
type = S
movetype = A
physics = S
anim  = 2400
ctrl = 0
poweradd = 0
facep2 = 1

[State 1300, 1]
type = nothitby
trigger1 = time = 0
value = SCA
time = 80

[State 1305, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2400,0
channel = 0

[State 1305, 1]
type = PlaySnd
trigger1 = animelem = 25
value = 2400,1
channel = 0

[State 1300, 1]
type = superpause
trigger1 = animelem = 9
anim = 102
pos = 13,-24
time = 50
sound = f20,3
poweradd = -3000
movetime = 50
unhittable = 0

[State 750, 3];炎　呼び出し
type = helper
trigger1 = AnimElemTime(25) = 1
ignorehitpause = 1
persistent = 0
sprpriority = 5
pos = -30,0
priority = 10
ownpal = 1
stateno = 2420
ID = 2420
name = "NAPALM DEATH"

[State 1100, 7]
type = VelSet
trigger1 = time = 0
y = 0
x = 0

[state 1,1]
type = statetypeset
trigger1 = animelem = 26
statetype = A
physics = N

[State 1100, 7]
type = VelSet
trigger1 = animelem = 26
y = -13
x = 4

[State 310, HitDef]
type = HitDef
trigger1 = animelem = 26
attr = S, HA
animtype = diagup
damage = ifelse((prevstateno = [1000,1999]),900,950),100
hitflag = MAF
guardflag = M
getpower = 0,0
numhits = 1
pausetime = 15,15
guard.pausetime = 15,15
sparkno = 6
sparkxy = 0,-60
hitsound = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 30
ground.velocity = -6,-15
guard.velocity = -15
air.velocity = -6,-15
fall = 1
fall.recover = 0
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1


[State 1100, 7]
type = Veladd
trigger1 = animelemtime(26) > 0
y = .5
x = ifelse(vel x > 0,-0.1,0)

[State 1305, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel Y > 0
value = 2410


[Statedef 2410]
type = C
movetype = I
physics = S
anim = 1140
ctrl = 0
velset = 0,0

[State 1000, 7]
type = Velset
trigger1 = Time = 0
x = 0
y = 0

[State 1000, 7]
type = Posset
trigger1 = Time  >= 0
trigger1 = Pos Y != 0
y = 0



[State 2 ,2];着地音
type = PlaySnd
trigger1 = time = 0
value = f47, 0;
channel = 2
ignorehitpause = 1
persistent = 0

[State 1000, 7];立ちへ
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1
;　　　　　　　　　　　　　　　　　　ナパームデス　炎制御ヘルパー
[Statedef 2420]
type = A
movetype = I
physics = N
anim = 9999
ctrl = 0
velset = 0,0

[State 2, ga3];火柱効果音
type = PlaySnd
trigger1 = Time = 1
value = 2400, 10
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 2, ga3];火柱効果音
type = PlaySnd
trigger1 = Time = 2
value = 1100, 10
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1
[State 2, ga3];火柱効果音
type = PlaySnd
trigger1 = Time = 3
value = 1100, 10
Volume = 99999
;channel = 1
persistent = 0
ignorehitpause = 1

[State 240, 3];炎の塊
type = Explod
trigger1 = Time = 0
pos = 15,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2420
ID = 2420
;Scale = 1.3,1.3

[State 240, 3];炎の線　1
type = Explod
trigger1 = Time = 0
pos = -20,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 3
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9

[State 240, 3];炎の線　2
type = Explod
trigger1 = Time = 4
pos = -60,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 0
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9
[State 240, 3];炎の線　3
type = Explod
trigger1 = Time = 4
pos = 20,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 0
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9

[State 240, 3];炎の線　4
type = Explod
trigger1 = Time = 8
pos = -90,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 3
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9
[State 240, 3];炎の線　5
type = Explod
trigger1 = Time = 8
pos = 50,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 3
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9

[State 240, 3];炎の線　6
type = Explod
trigger1 = Time = 12
pos = -130,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 0
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9
[State 240, 3];炎の線　7
type = Explod
trigger1 = Time = 12
pos = 90,0
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 0
ownpal = 1
anim = 2421
ID = 2421
Scale = 0.9,0.9

[State 240, 3];地面炎 1
type = Explod
trigger1 = Time = 0
pos = -10,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422

[State 240, 3];地面炎 2
type = Explod
trigger1 = Time = 4
pos = -60,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422
[State 240, 3];地面炎 3
type = Explod
trigger1 = Time = 4
pos = 30,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422

[State 240, 3];地面炎 4
type = Explod
trigger1 = Time = 8
pos = -90,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422
[State 240, 3];地面炎 5
type = Explod
trigger1 = Time = 8
pos = 60,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422

[State 240, 3];地面炎 6
type = Explod
trigger1 = Time = 12
pos = -130,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422
[State 240, 3];地面炎 7
type = Explod
trigger1 = Time = 12
pos = 100,10
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 5
ownpal = 1
anim = 2422
ID = 2422



[State 255, 7]
type = destroyself
trigger1 = Time = 80


;ドラゴンインストール
[statedef 2500]
type = S
movetype = A
physics = S
anim  = 2500
ctrl = 0
poweradd = 0
facep2 = 1

[State 1300, 1]
type = nothitby
trigger1 = time = 0
value = SCA
time = 80

[state 1,1]
type = varset
trigger1 = animelem = 9
var(4) = 700

[State 1305, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2500,0
channel = 0

[State 1305, 1]
type = PlaySnd
trigger1 = animelemtime(9) = 32
value = 2500,1
channel = 0


[State 1300, 1]
type = superpause
trigger1 = animelem = 9
anim = 102
pos = -9,-101
time = 50
sound = f20,3
poweradd = ifelse(var(39) = 0,-3000,0)
movetime = 50

[State 1100, 7]
type = VelSet
trigger1 = time = 0
y = 0
x = 0



[State 1305, 8]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;タイランレイブ
[statedef 3000]
type = S
movetype = A
physics = S
anim  = 3000
ctrl = 0
poweradd = 0
facep2 = 1
juggle = 0

[State 1300, 1]
type = nothitby
trigger1 = time = 0
value = SCA
time = 60

[State 1000, Width]
type = Width
trigger1 = AnimElem = 1
value = 15,0

[State 1305, 1]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0
channel = 0

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 10
value = 3000,1
channel = 0

[State 1305, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,10



[State 240, 3];タイランレイブ　手の炎　１
type = Explod
trigger1 = AnimElem = 5
pos = 55,-109
postype = p1
facing = 1
persistent = 0
ignorehitpause = 1
sprpriority = 4
ownpal = 1
bindtime = -1
anim = 3002
ID = 2000
scale = const(size.xscale),const(size.yscale)

[State 1300, 1]
type = superpause
trigger1 = animelem = 3
anim = 102
pos = 41,-38
time = 50
sound = f20,1
poweradd = -3000
movetime = 50

[State 1100, 7]
type = VelSet
trigger1 = time = 0
y = 0
x = 0

[State 1100, 7]
type = posadd
trigger1 = animelem = 1 || animelem = 2 || animelem = 4 || animelem = 5
x = 5

[State 1000, Width]
type = Width
trigger1 = AnimElem = 5
value = 15,0

[State 310, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = SC, HA
animtype = Medium
damage = ifelse((prevstateno = [1000,1999]),150,300),20
hitflag = MAF
guardflag = M
getpower = 0,0
numhits = 1
pausetime = 18,18
guard.pausetime = 18,21
sparkno = 9
sparkxy = 0,-70
hitsound = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 10
guard.hittime = 13
ground.velocity = -1,-7
guard.velocity = -5
air.velocity = -1,-6.5
air.type = trip
fall = 1
fall.recover = 0
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1




[State 1060, 5]
type = Projectile
trigger1 = AnimElem = 11
projanim = 3003
projhitanim = 3003
projremovetime = 45
projscale = const(size.xscale),const(size.yscale)
projID = 2200
postype = p1
offset = 120,-75
velocity = 0.1
accel = 0.02,0
getpower = 0,0
attr = S, SP
damage = ifelse((prevstateno = [1000,1999]),275,550),20
animtype = Hard
hitflag = MAFP
guardflag = M
pausetime = 0,10
guard.pausetime = 0,12
sparkno = 10
hitsound = 5,31
guardsound = 6,0
ground.type = low
ground.slidetime = 14
ground.hittime  = 20
guard.hittime = 13
ground.velocity = -9
air.velocity = -6.5,-9
fall = 1
fall.recover = 0
air.juggle = 0
p2stateno = 4840
p2facing = 1
palfx.time        = 30
palfx.add         = 150,0,-100
palfx.sinadd      = 50,50,0,10
palfx.color       = 0
palfx.invertall   = 1

[State 1305, 8]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(command = "holddown",11,0)
ctrl = 1

;前転
[statedef 700]
type = S
movetype = I
physics = N
velset = 0,0
posset = 0,0
anim = 700
ctrl = 0

[State 107, 1]
type = velset
trigger1 = animelem = 2
x = 10

[State 107, 1]
type = veladd
trigger1 = vel x > 0
x = -.5

[State 107, 2]
type = PlaySnd
trigger1 = Time = 0
value = 700,0
channel = 0

[State 1300, 1]
type = nothitby
trigger1 = time = 0
value = ,Na,sa,ha,np,sp,hp
time = 22

[State 1300, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;前転
[statedef 710]
type = S
movetype = I
physics = N
velset = 4.5,0
posset = 0,0
anim = 700
ctrl = 0
poweradd= -500

[state 710,1]
type = pause
trigger1 = time = 0
time = 5
movetime = 5

[State 745, 3]
type = EnvColor
trigger1 = Time = 0
value = 231,231,231
time = 5

[State 107, 1]
type = veladd
trigger1 = animelem = 4
x = -.5

[State 107, 2]
type = PlaySnd
trigger1 = Time = 0
value = 5200,0

[State 1300, 1]
type = nothitby
trigger1 = time >= 0
value = SCA,Na,sa,ha,np,sp,hp

[State 1300, 1]
type = PlayerPush
trigger1 = time >= 0
value = 0

[State 270, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;straker 呼び出し
[statedef 699]
type = S
movetype = I
velset = 0
ctrl = 0
anim = 699

[state 699,1]
type = ctrlset
trigger1 = time = 10
value = 1


[State 2, 7]
type = Helper
trigger1 = time = 1
trigger1 = facing = 1
trigger1 = numhelper(4000) = 0
trigger1 = var(6) = 1
trigger1 = stateno =[1,1999]
trigger1 = stateno != [700,999]
trigger1 = stateno != [170,194]
trigger2 = time >= 0
trigger2 = facing = 1
trigger2 = numhelper(4000) = 0
trigger2 = var(6) = 1
trigger2 = stateno = 0
trigger2 = ctrl
helpertype = normal
name = "maxima"
id = 4000
postype = left
pos = 0,-80
stateno = 4000
keyctrl = 0
ownpal = 1
facing = 1

[State 2, 7]
type = Helper
trigger1 = time = 1
trigger1 = facing = -1
trigger1 = numhelper(4000) = 0
trigger1 = var(6) = 1
trigger1 = stateno =[1,1999]
trigger1 = stateno != [700,999]
trigger1 = stateno != [170,194]
trigger2 = time >= 0
trigger2 = facing = 1
trigger2 = numhelper(4000) = 0
trigger2 = var(6) = 1
trigger2 = stateno = 0
trigger2 = ctrl
helpertype = normal
name = "maxima"
id = 4000
postype = right
pos = 0,-80
stateno = 4000
keyctrl = 0
ownpal = 1
facing = -1

[State 2, 7]
type = Helper
trigger1 = time = 1
trigger1 = facing = 1
trigger1 = numhelper(4000) = 0
trigger1 = var(6) = 2
trigger1 = stateno =[1,1999]
trigger1 = stateno != [700,999]
trigger1 = stateno != [170,194]
trigger2 = time >= 0
trigger2 = facing = 1
trigger2 = numhelper(4000) = 0
trigger2 = var(6) = 1
trigger2 = stateno = 0
trigger2 = ctrl
helpertype = normal
name = "benimaru"
id = 4000
postype = left
pos = 0,-80
stateno = 4200
keyctrl = 0
ownpal = 1
facing = 1

[State 2, 7]
type = Helper
trigger1 = time = 1
trigger1 = facing = -1
trigger1 = numhelper(4000) = 0
trigger1 = var(6) = 2
trigger1 = stateno =[1,1999]
trigger1 = stateno != [700,999]
trigger1 = stateno != [170,194]
trigger2 = time >= 0
trigger2 = facing = 1
trigger2 = numhelper(4000) = 0
trigger2 = var(6) = 1
trigger2 = stateno = 0
trigger2 = ctrl
helpertype = normal
name = "benimaru"
id = 4000
postype = right
pos = 0,-80
stateno = 4200
keyctrl = 0
ownpal = 1
facing = -1

[State 699, 4]
type = varset
triggerall = time = 0
triggerall = var(7) >=1 
triggerall = numhelper(4000) != 1 
trigger1 = palno = 4
trigger2 = palno = 5
trigger3 = palno = 6
v = 6
value = 1

[State 699, 4]
type = varset
triggerall = time = 0
triggerall = var(7) >=1 
triggerall = numhelper(4000) != 1 
trigger1 = palno = 1
trigger2 = palno = 2
trigger3 = palno = 3
v = 6
value = 2

[State 699,1]
type = varadd
trigger1 = var(7) >=1 
trigger1 = time = 1
v = 7
value = -1

[State 280, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; RUN_FWD
[Statedef 300]
type    = S
physics = S
sprpriority = 1
cgtrl = 0

[state 1,SA]
type = changeanim
triggerall = time = 0
trigger1 = var(11) > 0 && (prevstateno != [ifelse(p1name = "12",5000+var(7),5000),5030]) && p1name = "setsuna"
trigger2 = var(11) = 0 && p1name = "setsuna"
trigger3 = p1name != "setsuna"
value = 100

[State 100, 1]
type = VelSet
trigger1 = time = 0
y = 0
persistent = 0

[State 100, 1]
type = posset
trigger1 = time = 0
y = 0

[State 100, 1]
type = VelSet
trigger1 = animelem = 2
x = const(velocity.run.fwd.x)-4
persistent = 0

[State 100, 1]
type = Veladd
trigger1 = 1
x = 1.1

[State 100, 1]
type = poweradd
trigger1 = p2dist x >= 0
value = 5


[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[state 1,1]
type = changestate
trigger1 = p2dist x < 60 && p2statetype = A && p2dist y > -40
value = 210



[state 1,1]
type = changestate
trigger1 = p2statetype != A || time > 300
value = 0;ifelse(prevstateno = 7700,0,7700)
ctrl = 1;ifelse(prevstateno = 7700,1,0)

;reap
[statedef 500]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 50
anim = 500
juggle = 0

[state 500,1]
type = velset
trigger1 = time = 0
x = 1
y = -7.2

[state 500,2]
type = veladd
trigger1 = 1
y = .52

[state 500,3]
type = playsnd
trigger1 = time = 14
value = 260,0
channel = 0

[state 500,4]
type = changestate
trigger1 = pos y >= 0
trigger1 = vel y >= 0
value = 53

[state 500,5]
type = hitdef
trigger1 = animelemtime(6) >= 0
persistent = 0
attr = A, NA
animtype = medium
damage = 80
guardflag = H
pausetime = 12,12
sparkxy = -1,-40
hitsound = 5,3
guardsound = 6,0
ground.type = low
ground.slidetime = 15
ground.hittime = 17
ground.velocity = -5.5
guard.velocity = -5.5
guard.hittime = 13
air.velocity = -2,-4
air.fall = 1
fall.recover = 0
p2stateno = ifelse(p2statetype != C,5000,4860)
p2facing = 1


[Statedef -2]

; Play "jump" sound
[State -2, 1]
type = PlaySnd
trigger1 = stateno = 40
trigger1 = Time = 0
value = 40,0

; Play "land" sound
[State -2, 2]
type = PlaySnd
trigger1 = stateno = 52
trigger1 = Time = 1
value = 47,0

; Play "run" sound
[State -2, 2]
type = PlaySnd
trigger1 = stateno = 100 && animelem = 2, = 1
value = 100,0

; Play "run" sound
[State -2, 2]
type = PlaySnd
trigger1 = stateno = 100 && animelem = 6
value = 100,1

;攻撃受ける
[State -2, HitAttack]
type = VarRandom
triggerall = Time = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
v = 1
range = 0, 9

[State -2, HitAttack]
type = PlaySnd
triggerall = Time = 2
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 5000, (0+var(1))
channel = 0

; yarujaneleka
[State -2, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5201
trigger2 = stateno = 5210
value = 5200,0
channel = 0

; Play "ouch" when landing on back
[State -2, 7]
type = PlaySnd
trigger1 = random < 250
trigger1 = time = 1
trigger1 = stateno = 5100
value = 5100,0
channel = 0

; Stop sound if hit
[State -2, 8]
type = StopSnd
trigger1 = MoveType = H
channel = 1 && 2 && 3


;---------------------------------------------------------------------
[State -2,52]
type = Varset
triggerall = facing = 1
trigger1 = StateNo = 5900
trigger2 = stateno = [180,194]
trigger2 = win = 0
persistent = 0
v = 15
value = 1

[State -2,52]
type = Varset
triggerall = facing = -1
trigger1 = StateNo = 5900
trigger2 = stateno = [180,194]
trigger2 = win = 0
persistent = 0
v = 15
value = 2

[State -2, 5.1];補正リセット
type = varset
trigger1 = p2movetype != H && fvar(12) != 1
fvar(12) = 1

[State -2, 4.21];攻撃力変更
type = AttackMulSet
trigger1 = p2life < 600
value = (ifelse(p2movetype = A,1,0.65)+fvar(10))*fvar(12)

[State -2, 4.21];攻撃力変更
type = AttackMulSet
trigger1 = p2life = [600,1000]
value = (ifelse(p2statetype = C || p2movetype = A,1.00,0.75)+fvar(10))*fvar(12)

[State -2, 4.21];攻撃力変更
type = AttackMulSet
trigger1 = p2life > 1000
value = (ifelse(p2statetype = C || p2movetype = A,1.25,1.00)+fvar(10))*fvar(12)

[State -2, 4.21];体力１／2で防御ＵＰ
type = defenceMulSet
trigger1 = life = [600,1000]
trigger1 = movetype != A
value = .6

[State -2, 4.21];体力１／3で防御ＵＰ
type = defenceMulSet
trigger1 = life < 600
trigger1 = movetype != A
value = .4


;ピヨリ
; Var(7) for counting dizzy mode
[State -3, 2.1]
type = Varadd
trigger1 = var(17) > 0
var(17) = -1
ignorehitpause = 1


;ロマキャン時スタン値回復
[state -3,2.45]
type = varadd
trigger1 = p2stateno = [3800,3900]
var(17) = -300

[State -3, 2.5]
type = ChangeState;change to dizzy when var(7) limits reached!
trigger1 = var(17) >= 1000
trigger1 = p2name != "setsuna"
trigger2 = var(17) >= 1250
trigger2 = p2name = "setsuna"
value = 5300
ctrl = 0
ignorehitpause = 1

;========================
; Guard Crush mode system
;========================
; Var(16) for counting Guard Crush mode
[State -3, 3.1];subtract for light attack hits
type = Varadd
triggerall = var(16) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5000
trigger2 = stateno = 5001
trigger2 = anim = 5010
trigger3 = stateno = 5011
trigger3 = anim = 5020 
persistent = 0
var(16) = -1
ignorehitpause = 1

[State -3, 3.2];subtract for medium attack hits
type = Varadd
triggerall = var(16) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5001
trigger2 = stateno = 5001
trigger2 = anim = 5011
trigger3 = stateno = 5011
trigger3 = anim = 5021 
persistent = 0
var(16) = -2
ignorehitpause = 1

[State -3, 3.3];subtract for heavy attack hits
type = Varadd
triggerall = var(16) > 0
trigger1 = stateno = 5001
trigger1 = anim = 5002
trigger2 = stateno = 5001
trigger2 = anim = 5012
trigger3 = stateno = 5011
trigger3 = anim = 5022 
persistent = 0
var(16) = -3
ignorehitpause = 1

[State -3, 3.4];subtract for fall
type = Varadd
trigger1 = var(16) > 0
trigger1 = PrevStateNo = 5050
persistent = 0
var(16) = -1
ignorehitpause = 1

[State -3, 3.8]
type = ChangeState;change to guard crush when var(16) limits reached!
trigger1 = var(16) >= 80
value = 9100
ctrl = 0
ignorehitpause = 1

[State -2,42]
type = Explod
trigger1 = Facing = 1
trigger1 = movehit
trigger1 = Var(20) = 1
trigger1 = Var(15) = 2
persistent = 0
anim = F200
ID = 200
pos = -85,80
postype = Right
facing = 1
sprpriority = 10
removetime = 70
bindtime = -1
ignorehitpause = 1
ownpal = 1
supermove = 1
ontop = 1

[State -2,42]
type = Explod
trigger1 = Facing = -1
trigger1 = movehit
trigger1 = Var(20) = 1
trigger1 = Var(15) = 2
persistent = 0
anim = F200
pos = -85,80
postype = Right
facing = 1
sprpriority = 10
removetime = 70
bindtime = -1
ignorehitpause = 1
ownpal = 1
supermove = 1
ontop = 1

[State -2,42]
type = Explod
trigger1 = Facing = 1
trigger1 = movehit
trigger1 = Var(20) = 1
trigger1 = Var(15) = 1
persistent = 0
anim = F200
ID = 200
pos = -315,80
postype = Right
facing = 1
sprpriority = 10
removetime = 70
bindtime = -1
ignorehitpause = 1
ownpal = 1
supermove = 1
ontop = 1

[State -2,42]
type = Explod
trigger1 = Facing = -1
trigger1 = movehit
trigger1 = Var(20) = 1
trigger1 = Var(15) = 1
persistent = 0
anim = F200
ID = 200
pos = -315,80
postype = right
facing = 1
sprpriority = 10
removetime = 70
bindtime = -1
ignorehitpause = 1
ownpal = 1
supermove = 1
ontop = 1

[state -2,1]
type = varset
trigger1 = p2movetype = A
v = 20
value = 1

[state -2,1]
type = varset
trigger1 = p2movetype != A
v = 20
value = 0



; var(39) バ−サクモ−ドカウントダウン
[State -3, 2.1]
type = Varadd
trigger1 = var(39) > 0
var(39) = -1
ignorehitpause = 1

[State -3, 2.1]
type = poweradd
trigger1 = var(39) > 0
value = -10
ignorehitpause = 1

[state 4410,1]
type = varset
trigger1 = power = 0
v = 39
value = 0
ignorehitpause = 1

[state -2,1]
type = removeEXplod
trigger1 = var(39) = 0
ID = 770

[State 500, 1]
type = AfterImage
trigger1 = var(39) = 0 && power = 0
time = 1
FrameGap = 5
length = 15
PalBright   =  0,0,0
PalContrast = 100,100,150
PalAdd      =  0,0,0
PalMul      =  1,1,1
Trans = Add1
ignorehitpause = 1

[state 4410,1]
type = varset
trigger1 = var(39) = 0
v = 38
value = 0


[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = stateno != [1100,1110]
trigger1 = stateno != [1730,1740]
ignorehitpause = 1
ID = 1145

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = stateno != [1100,1110]
trigger1 = stateno != [1730,1740]
ignorehitpause = 1
ID = 1146

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = stateno != [1100,1110]
trigger1 = stateno != [1730,1740]
ignorehitpause = 1
ID = 1147

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = stateno != [1100,1110]
trigger1 = stateno != [1730,1740]
ignorehitpause = 1
ID = 1148

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = stateno != [1100,1110]
trigger1 = stateno != [1720,1740]
ignorehitpause = 1
ID = 1149

[State 1]; ヴォルカニックヴァイパー　封炎剣　炎２消去
type = RemoveExplod
trigger1 = stateno != [1100,1110]
trigger1 = stateno != [1720,1740]
ignorehitpause = 1
ID = 1150


[statedef -3]

[State -2,52]
type = Varset
triggerall = facing = 1
trigger1 = StateNo = 5900
trigger2 = stateno = [180,194]
trigger2 = win = 0
persistent = 0
v = 15
value = 1

[State -2,52]
type = Varset
triggerall = facing = -1
trigger1 = StateNo = 5900
trigger2 = stateno = [180,194]
trigger2 = win = 0
persistent = 0
v = 15
value = 2

;[State -3, 1.8]
;type = Varset
;triggerall = var(30) = 1
;trigger1 = command = "s"
;var(30) = 0
;persistent = 0
;Access AI modification once any of the following AI-command is accessed
[State -3, 1.8]
type = Varset
triggerall = var(30) != 1
triggerall = RoundState != 3
triggerall = ((stateno = [0,200]) && (ctrl = 0)) || ((stateno = [700,900]) && (ctrl = 0)) || (stateno = [5000,6000])
trigger1 = command = "cpu1"
trigger2 = command = "cpu2"
trigger3 = command = "cpu3"
trigger4 = command = "cpu4"
trigger5 = command = "cpu5"
trigger6 = command = "cpu6"
trigger7 = command = "cpu7"
trigger8 = command = "cpu8"
var(30) = 1
;persistent = 0

;                                ＣＰＵに変化ヘルパー
[State 208, ww2]
type = VarSet
triggerall = var(30) = 0
;triggerall = parent, RoundState = 2
trigger1 = command = "cpu"
trigger2 = command = "cpu1"
trigger3 = command = "cpu2"
trigger4 = command = "cpu3"
trigger5 = command = "cpu4"
trigger6 = command = "cpu5"
trigger7 = command = "cpu6"
trigger8 = command = "cpu7"
trigger9 = command = "cpu8"
var(30) = 1

;****************** 1 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 1 && var(15) != 0
trigger1 = NumExplod(2091) = 0
persistent = 0
anim = F2091
ID = 2091
pos = ifelse(var(15) = 1,-266,-150),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1

;****************** 2 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 2
trigger1 = NumExplod(2092) = 0
trigger1 = NumExplod(2091) = 1
persistent = 0
anim = F2091
ID = 2092
pos = ifelse(var(15) = 1,-260,-144),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
ownpal = 1
supermove = 1


;******************** 3 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 3
trigger1 = NumExplod(2093) = 0
trigger1 = NumExplod(2092) = 1
persistent = 0
anim = F2091
ID = 2093
pos = ifelse(var(15) = 1,-254,-138),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1



;********************** 4 **********************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 4
trigger1 = NumExplod(2094) = 0
trigger1 = NumExplod(2093) = 1
persistent = 0
anim = F2091
ID = 2094
pos = ifelse(var(15) = 1,-248,-132),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1



;************************* 5 **************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 5
trigger1 = NumExplod(2095) = 0
trigger1 = NumExplod(2094) = 1
persistent = 0
anim = F2091
ID = 2095
pos = ifelse(var(15) = 1,-242,-126),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1


;****************** 6 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 6
trigger1 = NumExplod(2096) = 0
trigger1 = NumExplod(2095) = 1
persistent = 0
anim = F2091
ID = 2096
pos = ifelse(var(15) = 1,-236,-120),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1



;****************** 7 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 7
trigger1 = NumExplod(2097) = 0
trigger1 = NumExplod(2096) = 1
persistent = 0
anim = F2091
ID = 2097
pos = ifelse(var(15) = 1,-230,-114),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1


;******************** 8 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 8
trigger1 = NumExplod(2098) = 0
trigger1 = NumExplod(2097) = 1
persistent = 0
anim = F2091
ID = 2098
pos = ifelse(var(15) = 1,-224,-108),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1

;********************** 9 **********************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 9
trigger1 = NumExplod(2099) = 0
trigger1 = NumExplod(2098) = 1
persistent = 0
anim = F2091
ID = 2099
pos = ifelse(var(15) = 1,-218,-102),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1
;************************* 10 **************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 10
trigger1 = NumExplod(2100) = 0
trigger1 = NumExplod(2099) = 1
persistent = 0
anim = F2091
ID = 2100
pos = ifelse(var(15) = 1,-212,-96),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1
;****************** 11 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 11
trigger1 = NumExplod(2101) = 0
trigger1 = NumExplod(2100) = 1
persistent = 0
anim = F2091
ID = 2101
pos = ifelse(var(15) = 1,-206,-90),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1
;****************** 12 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 12
trigger1 = NumExplod(2102) = 0
trigger1 = NumExplod(2101) = 1
persistent = 0
anim = F2091
ID = 2102
pos = ifelse(var(15) = 1,-200,-84),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1
;******************** 13 ****************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 13
trigger1 = NumExplod(2103) = 0
trigger1 = NumExplod(2102) = 1
persistent = 0
anim = F2091
ID = 2103
pos = ifelse(var(15) = 1,-194,-78),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1
;********************** 14 **********************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 14
trigger1 = NumExplod(2104) = 0
trigger1 = NumExplod(2103) = 1
persistent = 0
anim = F2091
ID = 2104
pos = ifelse(var(15) = 1,-188,-72),44
postype = Right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1

;************************* 15 **************************
; juggle
[State -2,41]
type = Explod
triggerall = var(40) >= 15
trigger1 = NumExplod(2105) = 0
trigger1 = NumExplod(2104) = 1
persistent = 0
anim = F2092
ID = 2105
pos = ifelse(var(15) = 1,-266,-150),44
postype = Right
sprpriority = -1
removetime = -1
bindtime = -1
ignorehitpause = 1
supermove = 1


[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 15
ID = 2105

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 14
ID = 2104

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 13
ID = 2103

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 12
ID = 2102

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 11
ID = 2101

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 10
ID = 2100

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 9
ID = 2099

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 8
ID = 2098

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 7
ID = 2097

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 6
ID = 2096

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 5
ID = 2095

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 4
ID = 2094

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 3
ID = 2093

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 2
ID = 2092

[State -2,47]
type = RemoveExplod
trigger1 = var(40) < 1
ID = 2091

[State -2,47]
type = RemoveExplod
trigger1 = stateno != 2000
ID = 2001

[State -2,47]
type = RemoveExplod
trigger1 = stateno != 2500
ID = 2500

[state -2,varset]
type = varset
trigger1 = p2movetype != H
var(40) = 15


[state -2,what]
type = displaytoclipboard
trigger1 = 1
text="*CPU*:%d,*dizzy*:%d,*Guard*:%d,*juggle*:%d,*sirusi*:%f"; %dは数字の部分
params = var(30),var(17),var(16),var(40),fvar(12)

[State 5000, FFB Medium]
type = assertspecial
trigger1 = win = 1
flag = nomusic

[State 5000, FFB Medium]
type = assertspecial
trigger1 = 1
flag = noairguard

[state -2,varrangeset]
type = VarSet
trigger1 = var(50) != 1
triggerall = p2movetype != H
ignorehitpause = 1
var(50) = 1

[state -2,varrangeset]
type = VarSet
trigger1 = var(59) != 1
triggerall = p2movetype != H
ignorehitpause = 1
var(59) = 1

[state -2,varrangeset]
type = VarSet
trigger1 = var(58) != 1
triggerall = p2movetype != H
ignorehitpause = 1
var(58) = 1

[state -2,varrangeset]
type = VarRangeSet
trigger1 = var(51) != 0 || var(52) != 0 || var(53) != 0 || var(54) != 0 || var(55) != 0 
trigger2 = var(56) != 0 || var(57) != 0 
triggerall = p2movetype != H
ignorehitpause = 1
first = 51
last = 57
value = 0



; ガードゲージシステム
[State -2,41]
type = Explod
trigger1 = numexplod(2500+var(42)) = 0
persistent = 0
anim = F2200+var(42)
ID = 2500+var(42)
pos = ifelse(var(15) = 2,-203,-119),26
postype = right
sprpriority = -2
removetime = -1
bindtime = -1
ignorehitpause = 1
ownpal = 0
supermove = 1
facing = ifelse(var(15) = 2,1,-1)


[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = var(42) = 0 && numexplod(2501) = 1
ignorehitpause = 1
ID = 2501

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = var(42) = 0 && numexplod(2499) = 1
ignorehitpause = 1
ID = 2499

[State -2,RemoveExplod];
type = RemoveExplod
trigger1 = var(42) > 0 && var(42) < 25
trigger2 = var(42) < 0 && var(42) > -25
triggerall = numexplod(2501+var(42)) = 1
ignorehitpause = 1
ID = 2501+var(42)

[State -2,RemoveExplod];
type = RemoveExplod
trigger1 = var(42) > 0
triggerall = numexplod(2475+var(42)) = 1
ignorehitpause = 1
ID = 2475+var(42)

[State -2,RemoveExplod];
type = RemoveExplod
trigger1 = var(42) < 0
triggerall = numexplod(2476-(var(42))) = 1
ignorehitpause = 1
ID = 2474-(var(42))

[State -3, 1.8]
type = Varadd
trigger1 = var(41) > 0
var(41) = -1
ignorehitpause = 1

[State -3, 1.8]
type = Varadd
trigger1 = var(41) < 0 && p2movetype != H
var(41) = 1
ignorehitpause = 1

[State -3, 1.8]
type = Varadd
trigger1 = movehit
var(41) = -2
ignorehitpause = 1
persistent = 0

[State -3, 1.8]
type = Varadd
trigger1 = moveguarded
var(41) = 4
ignorehitpause = 1
persistent = 0

[State -3, 1.8]
type = Varset
trigger1 = stateno = 5900 || (stateno = [190,191])
trigger2 = p2movetype != H && var(41) < 0
var(41) = 0
ignorehitpause = 1
persistent = 0

[State -2,RemoveExplod];
type = RemoveExplod
trigger1 = var(41) = 0
triggerall = var(43) != 0
ignorehitpause = 1
ID = var(43)
persistent = 0

[State -3, 1.8]
type = Varset
triggerall = var(41) >= 0
trigger1 = numexplod(2475) = 0 && numexplod(2476) = 0 && numexplod(2477) = 0 
trigger2 = numexplod(2478) = 0 && numexplod(2479) = 0 && numexplod(2480) = 0 
trigger3 = numexplod(2481) = 0 && numexplod(2482) = 0 && numexplod(2483) = 0
trigger4 = numexplod(2484) = 0 && numexplod(2485) = 0 && numexplod(2486) = 0 
trigger5 = numexplod(2487) = 0 && numexplod(2488) = 0 && numexplod(2489) = 0 
trigger6 = numexplod(2490) = 0 && numexplod(2491) = 0 && numexplod(2492) = 0
trigger7 = numexplod(2493) = 0 && numexplod(2494) = 0 && numexplod(2495) = 0 
trigger8 = numexplod(2496) = 0 && numexplod(2497) = 0 && numexplod(2498) = 0 || numexplod(2499) = 0 
trigger9 = numexplod(2501) = 0 && numexplod(2502) = 0 && numexplod(2503) = 0 
trigger10 = numexplod(2504) = 0 && numexplod(2505) = 0 && numexplod(2506) = 0 
trigger11 = numexplod(2507) = 0 && numexplod(2508) = 0 && numexplod(2509) = 0
trigger12 = numexplod(2510) = 0 && numexplod(2511) = 0 && numexplod(2512) = 0 
trigger13 = numexplod(2513) = 0 && numexplod(2514) = 0 && numexplod(2515) = 0
trigger14 = numexplod(2516) = 0 && numexplod(2517) = 0 && numexplod(2518) = 0 
trigger15 = numexplod(2519) = 0 && numexplod(2520) = 0 && numexplod(2521) = 0
trigger16 = numexplod(2522) = 0 && numexplod(2523) = 0 && numexplod(2524) = 0 
trigger17 = numexplod(2525) = 0
var(43) = 0
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2501) = 1 || numexplod(2502) = 1 || numexplod(2503) = 1 
trigger2 = numexplod(2504) = 1 || numexplod(2505) = 1 || numexplod(2506) = 1 
trigger3 = numexplod(2507) = 1 || numexplod(2508) = 1 
var(43) = ifelse(numexplod(2501) = 1,2501,ifelse(numexplod(2502) = 1,2502,ifelse(numexplod(2503) = 1,2503,ifelse(numexplod(2504) = 1,2504,ifelse(numexplod(2505) = 1,2505,ifelse(numexplod(2506) = 1,2506,ifelse(numexplod(2507) = 1,2507,2508)))))))
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2509) = 1 || numexplod(2516) = 1
trigger2 = numexplod(2510) = 1 || numexplod(2511) = 1 || numexplod(2512) = 1
trigger3 = numexplod(2513) = 1 || numexplod(2514) = 1 || numexplod(2515) = 1
var(43) = ifelse(numexplod(2509) = 1,2509,ifelse(numexplod(2510) = 1,2510,ifelse(numexplod(2511) = 1,2511,ifelse(numexplod(2512) = 1,2512,ifelse(numexplod(2513) = 1,2513,ifelse(numexplod(2514) =1 ,2514,ifelse(numexplod(2515) = 1,2515,2516)))))))
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2517) = 1 || numexplod(2518) = 1 
trigger2 = numexplod(2519) = 1 || numexplod(2520) = 1 || numexplod(2521) = 1
trigger3 = numexplod(2522) = 1 || numexplod(2523) = 1 || numexplod(2524) = 1 
var(43) = ifelse(numexplod(2517) = 1,2517,ifelse(numexplod(2518) = 1,2518,ifelse(numexplod(2519) = 1,2519,ifelse(numexplod(2520) = 1,2520,ifelse(numexplod(2521) = 1,2521,ifelse(numexplod(2522) = 1,2522,ifelse(numexplod(2523) = 1,2523,2524)))))))
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2525) = 1
var(43) = 2525
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2475) = 1 || numexplod(2476) = 1 || numexplod(2477) = 1 
trigger2 = numexplod(2478) = 1 || numexplod(2479) = 1 || numexplod(2480) = 1 
trigger3 = numexplod(2481) = 1 || numexplod(2482) = 1
var(43) = ifelse(numexplod(2475) = 1,2475,ifelse(numexplod(2476) = 1,2476,ifelse(numexplod(2477) = 1,2477,ifelse(numexplod(2478) = 1,2478,ifelse(numexplod(2479) = 1,2479,ifelse(numexplod(2480) = 1,2480,ifelse(numexplod(2481) = 1,2481,2482)))))))
ifelse(numexplod(2483) = 1,2483,ifelse(numexplod(2484) = 1,2484,ifelse(numexplod(2485) = 1,2485,ifelse(numexplod(2486) = 1,2486,ifelse(numexplod(2487) = 1,2487,ifelse(numexplod(2488) = 1,2488,ifelse(numexplod(2489) = 1,2489,ifelse(numexplod(2490) = 1,2490,ifelse(numexplod(2491) = 1,2491,ifelse(numexplod(2492) = 1,2492,(numexplod(2493) = 1,2493,ifelse(numexplod(2494) = 1,2494,ifelse(numexplod(2495) = 1,2495,ifelse(numexplod(2496) = 1,2496,ifelse(numexplod(2497) = 1,2497,ifelse(numexplod(2498) = 1,2498,2499)))))))))))))))))))))))
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2484) = 1 || numexplod(2485) = 1 || numexplod(2486) = 1 || numexplod(2483) = 1 
trigger2 = numexplod(2487) = 1 || numexplod(2488) = 1 || numexplod(2489) = 1 
var(43) = ifelse(numexplod(2483) = 1,2483,ifelse(numexplod(2484) = 1,2484,ifelse(numexplod(2485) = 1,2485,ifelse(numexplod(2486) = 1,2486,ifelse(numexplod(2487) = 1,2487,ifelse(numexplod(2488) = 1,2488,ifelse(numexplod(2489) = 1,2489,2490)))))))
ignorehitpause = 1

[State -3, 1.8]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2496) = 1 || numexplod(2491) = 1 || numexplod(2492) = 1 
trigger2 = numexplod(2493) = 1 || numexplod(2494) = 1 || numexplod(2495) = 1
var(43) = ifelse(numexplod(2491) = 1,2491,ifelse(numexplod(2492) = 1,2492,ifelse(numexplod(2493) = 1,2493,ifelse(numexplod(2494) = 1,2494,ifelse(numexplod(2495) = 1,2495,ifelse(numexplod(2496) = 1,2496,2497))))))
ignorehitpause = 1

[State -3, Varset]
type = Varset
triggerall = var(41) = 0
trigger1 = numexplod(2498) = 1 || numexplod(2499) = 1
var(43) = ifelse(numexplod(2498) = 1,2498,2499)
ignorehitpause = 1

[State -3, 1.8]
type = Varset
trigger1 = var(41) = 0
var(42) = 0
ignorehitpause = 1



[State -3, 1.8]
type = Varset
trigger1 = var(41) > 500
var(41) = 500
ignorehitpause = 1

[State -3, 1.8]
type = Varset
trigger1 = var(41) != 0
var(42) = var(41)/20
ignorehitpause = 1

[State -3, 1.8]
type = Varset
trigger1 = var(41) != 0
fv = 10
value = var(41)/1000.0
ignorehitpause = 1

[State -3, 1.8]
type = Varset
trigger1 = var(41) = 0
fv = 10
value = 0.0001
persistent = 0
ignorehitpause = 1

[State -3, 1.8]
type = Varset
trigger1 = var(41) < -500
var(41) = -500
ignorehitpause = 1


;グラップルフラグ
[State 680, 4]
type = ChangeState
trigger1 = command = "x" && command = "a" && p2statetype != A
trigger2 = (stateno = [800,805]) && p2statetype != A
triggerall = (p2stateno = [800,950]) && p2stateno != 890
triggerall = p2dist x = [0,50]
triggerall = movetype != H && stateno != 890 && statetype != A
triggerall = (stateno != [200,799]) && (stateno != [999,5900])
value = 890

;******************* ブロッキング new
[State -2, Blocking-1];var(26)の初期化用処理です。
type = VarSet
trigger1 = var(26) >= 20
var(26) = 0

[State -2, Blocking-2];var(27)の初期化用処理です。
type = VarSet
trigger1 = var(27) >= 20
var(27) = 0

[State -2, Blocking-1];var(28)の初期化用処理です。
type = VarSet
trigger1 = var(28) >= 20
var(28) = 0

[State -2, Blocking-2];var(29)の初期化用処理です。
type = VarSet
trigger1 = var(29) >= 20
var(29) = 0

[State -2, Blocking-3]
type = VarSet
triggerall = Var(26) = 0
trigger1 = command = "right" && command != "holddown"&& Command != "holdup"
var(26) = 1

[State -2, Blocking-4]
type = VarAdd
trigger1 = Var(26) > 0
var(26) = 1
ignorehitpause = 1

[State -2, Blocking-5]
type = VarSet
triggerall = var(26) = [1,7]
trigger1 = command != "holddown" && Command != "holdup" && command != "holdfwd"&& Command != "holdback"
var(27) = 1

[State -2, Blocking-3]
type = VarSet
triggerall = Var(28) = 0
trigger1 = command = "down" && command != "holdfwd"&& Command != "holdup"
var(28) = 1

[State -2, Blocking-4]
type = VarAdd
trigger1 = Var(28) > 0
var(28) = 1
ignorehitpause = 1

[State -2, Blocking-5]
type = VarSet
triggerall = var(28) = [1,7]
trigger1 = command != "holddown" && Command != "holdup" && command != "holdfwd"&& Command != "holdback"
var(29) = 1

;立ちブロキング
[State -2, Blocking-6] 
type = changestate
triggerall = statetype != A;地上にいてコントロール可能の時です。
triggerall = stateno != [100,115]
trigger1 = (Var(26) = [1,7]) && ctrl;4フレーム以内であればニュートラルに戻したかどうか関係なく移行します。
trigger2 = (Var(26) = [8,15]) && var(27) = 1 && ctrl;5〜8フレームではニュートラルに戻していた場合のみ移行します。
;trigger3 = (Var(26) = [1,7]) && (stateno = [7800,7810])
;trigger4 = (Var(26) = [8,15]) && var(27) = 1 && (stateno = [7800,7810])
value = 7700

[State -2, Blocking-6] 
type = changestate
triggerall = statetype != A;地上にいてコントロール可能の時です。
trigger1 = (Var(28) = [1,7]) && ctrl;4フレーム以内であればニュートラルに戻したかどうか関係なく移行します。
trigger2 = (Var(28) = [8,15]) && var(29) = 1 && ctrl;5〜8フレームではニュートラルに戻していた場合のみ移行します。
;trigger3 = (Var(28) = [1,7]) && (stateno = 7901 || stateno = 7951 || stateno = 7911)
;trigger4 = (Var(28) = [8,15]) && var(29) = 1 && (stateno = [7800,7810])
value = 7710

;空中ブロキング
[State -2, Blocking-6] 
type = changestate
triggerall = statetype = A
triggerall = (prevstateno != [781,785]) && (stateno = 50 || (stateno = [71,72]))
trigger1 = (Var(26) = [1,7]) && ctrl;4フレーム以内であればニュートラルに戻したかどうか関係なく移行します。
trigger2 = (Var(26) = [8,15]) && var(27) = 1 && ctrl;5〜8フレームではニュートラルに戻していた場合のみ移行します。
value = 7769

[State 1026, No scroll]
type = ScreenBound
trigger1 = p2statetype = S || p2statetype = C || (p2stateno = [5100,5230])
triggerall = statetype = A && pos y > -120
triggerall = p2dist y > -120
value = 1
movecamera = 1,0



[State -3, 1.8]
type = Varset
trigger1 = numprojID(1010) = 0
var(6) = 1
ignorehitpause = 1

[State -3, 1.8]
type = Varset
trigger1 = numprojID(1010) = 1
var(6) = 0
ignorehitpause = 1





;ドラゴンインストール強制終了
[state -2,varrangeset]
type = Varset
trigger1 = var(4) != 0 && win = 1
trigger2 = var(4) != 0 && alive = 0
ignorehitpause = 1
var(4) = 0


[State -2, 5.1];ドラゴンインストール発動中
type = PalFX
trigger1 = var(4) != 0 && movetype != H && (GameTime%2) = 0 
time = 1
add = 220,72,40
ignorehitpause = 1

[State -2, 5.1];ドラゴンインストール発動中
type = varadd
trigger1 = var(4) != 0
var(4) = -1



[State -3, 1.8]
type = Varset
trigger1 = projhit(1020) = 1
var(54) = 1
persistent = 0
ignorehitpause = 1
