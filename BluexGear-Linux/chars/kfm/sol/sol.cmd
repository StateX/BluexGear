;-| Super Motions |--------------------------------------------------------
[Command]
name = "nova"
command = ~D,DB,B,F,z
time = 25

[Command]
name = "qcf2_x"
command = ~D, DF, F,D, DF, F, x
time = 25

[Command]
name = "qcf2_y"
command = ~D, DF, F,D, DF, F, y
time = 25

[Command]
name = "qcf2_z"
command = ~D, DF, F,D, DF, F, z
time = 25

[Command]
name = "qcf2_a"
command = ~D, DF, F,D, DF, F, a
time = 25

[Command]
name = "qcf2_b"
command = ~D, DF, F,D, DF, F, b
time = 25

[Command]
name = "qcf2_c"
command = ~D, DF, F,D, DF, F, c
time = 25


;-| Special Motions |------------------------------------------------------

[Command]
name = "hqcf_es"
command = ~B, D,F, x+y
time = 15

[Command]
name = "hqcf_es"
command = ~B, D,F, y+z
time = 15

[Command]
name = "hqcf_es"
command = ~B, D,F, z+x
time = 15

[Command]
name = "qcbf_x"
command = ~D, B, F, x
time = 25

[Command]
name = "qcbf_y"
command = ~D, B, F, y
time = 25

[Command]
name = "qcbf_z"
command = ~D, B, F, z
time = 25

[Command]
name = "qcf_ex"
command = ~D, DF, F, x+y
time = 15

[Command]
name = "qcf_ex"
command = ~D, DF, F, z+x
time = 15

[Command]
name = "qcf_ex"
command = ~D, DF, F, z+y
time = 15

[Command]
name = "qcf_x"
command = ~D, DF, F, x
time = 15

[Command]
name = "qcf_y"
command = ~D, DF, F, y
time = 15

[Command]
name = "qcf_z"
command = ~D, DF, F, z
time = 15

[Command]
name = "qcf_a"
command = ~D, DF, F, a
time = 15

[Command]
name = "qcf_b"
command = ~D, DF, F, b
time = 15

[Command]
name = "qcf_c"
command = ~D, DF, F, c
time = 15



[Command]
name = "qcb_a"
command = ~D, DB, B, a
time = 15

[Command]
name = "qcb_b"
command = ~D, DB, B, b
time = 15

[Command]
name = "qcb_c"
command = ~D, DB, B, c
time = 15

[Command]
name = "qcb_ex"
command = ~D, DB, B, x+y
time = 15

[Command]
name = "qcb_ex"
command = ~D, DB, B, y+z
time = 15

[Command]
name = "qcb_ex"
command = ~D, DB, B, z+x
time = 15

[Command]
name = "qcb_x"
command = ~D, DB, B, x
time = 15

[Command]
name = "qcb_y"
command = ~D, DB, B, y
time = 15

[Command]
name = "qcb_z"
command = ~D, DB, B, z
time = 15



[Command]
name = "dp_a"
command = ~F, D, DF, a
time = 11

[Command]
name = "dp_b"
command = ~F, D, DF, b
time = 11

[Command]
name = "dp_c"
command = ~F, D, DF, c
time = 11

[Command]
name = "rundp_a"
command = ~D, DF, a
time = 15

[Command]
name = "runp_b"
command = ~D, DF, b
time = 15

[Command]
name = "rundp_c"
command = ~D, DF, c
time = 15

[Command]
name = "dp_x"
command = ~F, D, DF, x
time = 11

[Command]
name = "dp_y"
command = ~F, D, DF, y
time = 11

[Command]
name = "dp_z"
command = ~F, D, DF, z
time = 11

[Command]
name = "rundp_x"
command = ~D, DF, x
time = 15

[Command]
name = "runp_y"
command = ~D, DF, y
time = 15

[Command]
name = "rundp_z"
command = ~D, DF, z
time = 15

[Command]
name = "rdp_x"
command = ~B, D, DB, x
time = 15

[Command]
name = "rdp_y"
command = ~B, D, DB, y
time = 15

[Command]
name = "rdp_z"
command = ~B, D, DB, z
time = 15

[Command]
name = "rdp_a"
command = ~B, D, DB, a
time = 15

[Command]
name = "rdp_b"
command = ~B, D, DB, b
time = 15

[Command]
name = "rdp_c"
command = ~B, D, DB, c
time = 15
;-| Double Tap |-----------------------------------------------------------

[Command]
name = "FF"
command = ~F, F
time = 10

[Command]
name = "BB"
command = ~B, B
time = 9

[Command]
name = "sjf2"
command = /D,UF
time = 8

[Command]
name = "sjb2"
command = /D,UB
time = 8

[Command]
name = "sj2"
command = /D,U
time = 8

[Command]
name = "sjf"
command = DB,UF
time = 6

[Command]
name = "sjb"
command = DF,UB
time = 6

[Command]
name = "sj"
command = D,U
time = 6

[Command]
name = "sjf"
command = F,a+b
time = 2

[Command]
name = "sjb"
command = B,a+b
time = 2

[Command]
name = "sj"
command = a+b
time = 2


;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name = "xyz"
command = x+y+z
time = 1

[Command]
name = "xyz"
command = x+y
time = 1

[Command]
name = "recovery"
command = x+y
time = 1

[Command]
name = "recovery"
command = s
time = 1

[Command]
name = "dodge"
command = x+y
time = 1

[Command]
name = "abc"
command = a+b+c
time = 1

[Command]
name = "abc"
command = a+b
time = 1

[Command]
name = "xaf"
command =/F,x+a 
time = 1

[Command]
name = "xa"
command =x+a 
time = 1
[Command]
name = "yb"
command =y+b
time = 1
[Command]
name = "zc"
command =z+c 
time = 1
;バ−サク
[Command]
name = "berserk"
command = x+b
time = 1
;-| Dir + Button |---------------------------------------------------------



[Command]
name = "fwd_x"
command = /F,x

[Command]
name = "fwd_a"
command = /F,a
time = 1

[Command]
name = "fwd_b"
command = /F, b
time = 1

[Command]
name = "fwd_c"
command = /F, c
time = 1

[Command]
name = "back_x"
command = /B,x

[Command]
name = "back_y"
command = /B,y

[Command]
name = "back_z"
command = /B,z

[Command]
name = "back_b"
command = /B, b
time = 1

[Command]
name = "df_a"
command = /DF, a
time = 1
[Command]
name = "df_b"
command = /DF, b
time = 1
[Command]
name = "df_c"
command = /DF, c
time = 1



[Command]
name = "down_a"
command = /D,a
[Command]
name = "down_b"
command = /D,b
[Command]
name = "down_c"
command = /D,c



[Command]
name = "fwd_z"
command = /F, z
time = 1

[Command]
name = "fwd_y"
command = /F, y
time = 1

[Command]
name = "up_b"
command = /U, b
time = 1

[Command]
name = "Bing"
command = F
time = 0


;-| Single Button |---------------------------------------------------------

[Command]
name = "s_x"
command = ~6$x
time = 2

[Command]
name = "s_y"
command = ~6$y
time = 2

[Command]
name = "s_z"
command = ~6$z
time = 2

[Command]
name = "s_a"
command = ~6$a
time = 2

[Command]
name = "s_b"
command = ~6$b
time = 2

[Command]
name = "s_c"
command = ~6$c
time = 2


[Command]
name = "a"
command = a
time = 1

[Command]
name = "hold_a"
command = /$a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "hold_b"
command = /$b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "hold_c"
command = /$c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "hold_x"
command = /$x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "hold_y"
command = /$y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "hold_z"
command = /$z
time = 1

[Command]
name = "s"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------

[Command]
name = "holdfwd_x"
command = /$F, x
time = 1

[Command]
name = "holdfwd_y"
command = /$F, y
time = 1

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdupb"
command = /$UB
time = 1


[Command]
name = "holdupf"
command = /$UF
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "back"
command = B
time = 1
[Command]
name = "upback"
command = UB
time = 1
[Command]
name = "downback"
command = DB
time = 1

[Command]
name = "up"
command = U
time = 1

[Command]
name = "down"
command = D
time = 1

[Command]
name = "right"
command = F
time = 1

[Command]
name = "left"
command = B
time = 1

[Command]
name = "cpu"
command = ~F,~z,~x,~F,~a,~z,~U,~F,z+y+c+s
time = 0

[Command]
name = "cpu1"
command = ~F,~z,~x,~F,~a,~z,~U,~F,z+y+c+s
time = 0

[Command]
name = "cpu2"
command = ~F,~z,~x,~F,~a,~z,~D,~D,c+s
time = 0

[Command]
name = "cpu3"
command = ~F,~z,x,~F,~a,~z,~F,~B,z+s
time = 0

[Command]
name = "cpu4"
command = ~F,~z,~x,~F,~a,~z,~B,c+a+s
time = 0

[Command]
name = "cpu5"
command = ~F,~z,~x,~F,~a,~c,~U,~F,z+a+s
time = 0

[Command]
name = "cpu6"
command = ~F,~z,~x,~F,~a,~z,~D,~D,a+b+c+s
time = 0

[Command]
name = "cpu7"
command = ~F,~z,~b,~F,~a,~z,~F,~B,a+s
time = 0

[Command]
name = "cpu8"
command = ~F,~U,~x,~F,~a,~z,~B,a+b+z
time = 0

;-|Commands|------------------------------------------------------------------------------

[Statedef -1]

[State -1]
type = ChangeState
value = 440
triggerall = var(30) = 1
triggerall = win = 0
trigger1 = stateno = 210 && movehit
trigger2 = stateno = 230 && movehit

[State -1]
type = ChangeState
value = ifelse(p2statetype = A,1100,ifelse(power >= 3000,3000,ifelse(power >= 2000,2200,1600)))
triggerall = var(30) = 1 && fvar(17) = 0
triggerall = win = 0
trigger1 = stateno = 440 && movecontact


[State -1]
type = varset
var(47) = 300
triggerall = var(30) = 1
triggerall = win = 0
triggerall = statetype != A
trigger1 = stateno = 3000 || stateno = 2200 || stateno = 1600 || (stateno = [1430,1440]) || (stateno = [1310,1312]) || stateno = 290 || stateno = 1000
trigger1 = p2movetype = H && p2statetype = A && (p2stateno != [5100,5110])




[State -1]
type = varset
ignorehitpause = 1
var(47) = 0
trigger1 = (stateno = [20,40]) || (stateno = [52,99999])
trigger1 = (time = [0,2]) || animtime < -6
trigger1 = var(47) != 0

;タイランレイブvar.β
[State -1]
type = ChangeState
ignorehitpause = 0
value = 3000
triggerall = command = "nova" && fvar(17) = 0
triggerall = power >= 3000
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = 3000
triggerall = statetype != A
triggerall = command = "nova" && fvar(17) = 0
triggerall = power >= 3000
trigger1 = var(47) = 0


; どらごんいんすとーる
[State -1]
type = ChangeState
ignorehitpause = 0
value = 2500
triggerall = statetype != A
triggerall = command = "qcf2_c" && fvar(17) = 0
triggerall = power >= 3000 && numhelper(2500) = 0
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0



[State -1]
type = varset
ignorehitpause = 1
var(47) = 2500
triggerall = statetype != A
triggerall = command = "qcf2_c" && fvar(17) = 0
triggerall = power >= 3000
trigger1 = var(47) = 0

; ナパームデス
[State -1]
type = ChangeState
ignorehitpause = 0
value = 2400
triggerall = statetype != A
triggerall = command = "qcf2_z" && fvar(17) = 0
triggerall = power >= 3000
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = 2400
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_z"
triggerall = power >= 3000
trigger1 = var(47) = 0


; タイランレイブ ver.γ
[State -1]
type = ChangeState
ignorehitpause = 0
value = 2300
;triggerall = statetype != A
triggerall = command = "qcf2_b" && fvar(17) = 0
triggerall = power >= 2000
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [600,681]) 
trigger3 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0
trigger5 = stateno = 7769 && movecontact = 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = 2300
triggerall = command = "qcf2_b" && fvar(17) = 0
triggerall = power >= 2000
trigger1 = var(47) = 0

; タイランレイブ
[State -1]
type = ChangeState
ignorehitpause = 0
value = 2200
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_y"
triggerall = power >= 2000
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0



[State -1]
type = varset
ignorehitpause = 1
var(47) = 2200
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_y"
triggerall = power >= 2000
trigger1 = var(47) = 0

; ドラゴンバルクス
[State -1]
type = ChangeState
ignorehitpause = 0
value = 2100
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_a"
triggerall = power >= 1000
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = 2100
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_a"
triggerall = power >= 1000
trigger1 = var(47) = 0

; サマウォック・ムロスコ
[State -1]
type = ChangeState
ignorehitpause = 0
value = 2000
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_x"
triggerall = power >= 1000
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,460])
trigger2 = time > 2
trigger3 = (stateno = [1100,1100]) || stateno = 1600 || (stateno = 1000 && animelemtime(5) > 0)
trigger3 = movetype = A
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = 2000
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf2_x"
triggerall = power >= 1000
trigger1 = var(47) = 0


[state 1,1]
type = varset
trigger1 = command = "qcf_x" || command = "qcf_y" || command = "qcf_z"
var(8) = ifelse(command = "qcf_x",0,ifelse(command = "qcf_y",1,2))

[state 1,1]
type = varset
trigger1 = command = "qcf_a" || command = "qcf_b" || command = "qcf_c"
var(8) = ifelse(command = "qcf_a",0,ifelse(command = "qcf_b",1,2))

[state 1,1]
type = varset
trigger1 = command = "qcb_x" || command = "qcb_y" || command = "qcb_z"
var(8) = ifelse(command = "qcb_x",0,ifelse(command = "qcb_y",1,2))

[state 1,1]
type = varset
trigger1 = command = "qcb_a" || command = "qcb_b" || command = "qcb_c"
var(8) = ifelse(command = "qcb_a",0,ifelse(command = "qcb_b",1,2))

[state 1,1]
type = varset
trigger1 = command = "dp_x" || command = "dp_y" || command = "dp_z"
var(8) = ifelse(command = "dp_x",0,ifelse(command = "dp_y",1,2))

[state 1,1]
type = varset
trigger1 = command = "dp_a" || command = "dp_b" || command = "dp_c"
var(8) = ifelse(command = "dp_a",0,ifelse(command = "dp_b",1,2))


[State -1]
type = varset
ignorehitpause = 1
var(47) = 1500
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "dp_a" || command = "dp_b" || command = "dp_c"
trigger1 = var(47) = 0


;ぶっきらぼうに投げる
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1500
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "dp_a" || command = "dp_b" || command = "dp_c"
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = (stateno = [600,681]) 
trigger3 = time > 1
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 1600
triggerall = statetype != A && fvar(17) = 0 && power >= 500
triggerall = command = "hqcf_es"
trigger1 = var(47) = 0

; ファフニール
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1600
triggerall = statetype != A && fvar(17) = 0 && power >= 500
triggerall = command = "hqcf_es"
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 1700
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcb_x" || command = "qcb_y" || command = "qcb_z" 
trigger1 = var(47) = 0

;グランドバイパー
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1700
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcb_x" || command = "qcb_y" || command = "qcb_z" 
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = (stateno = [600,681]) 
trigger3 = time > 1
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(var(4) = 0,1100,1105)
triggerall = command = "dp_x" || command = "dp_y" || command = "dp_z" 
trigger1 = var(47) = 0 && fvar(17) = 0

; ボルカニックヴァイパー
[State -1]
type = ChangeState
ignorehitpause = 0
value = ifelse(var(4) = 0,1100,1105)
triggerall = fvar(17) = 0
triggerall = command = "dp_x" || command = "dp_y" || command = "dp_z" 
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = (stateno = [600,681]) 
trigger3 = time > 1
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0
trigger5 = stateno = 7769 && movecontact = 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = 1300
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcb_a" || command = "qcb_b" || command = "qcb_c" 
trigger1 = var(47) = 0

; ライオットスタンプ
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1300
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcb_a" || command = "qcb_b" || command = "qcb_c" 
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = (stateno = [600,681]) 
trigger3 = time > 1
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 1400
triggerall = command = "qcf_a" || command = "qcf_b" || command = "qcf_c"
trigger1 = var(47) = 0 && fvar(17) = 0

; バンディットリボルバー
[State -1]
type = ChangeState
ignorehitpause = 0;1
value = 1400
triggerall = command = "qcf_a" || command = "qcf_b" || command = "qcf_c"
triggerall = fvar(17) = 0
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = (stateno = [600,681]) 
trigger3 = time > 1
trigger4 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0
trigger5 = stateno = 7769 && movecontact = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 1050
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf_ex"
trigger1 = var(47) = 0

; ガンフレイムフェイント
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1050
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf_ex"
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 1000
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf_x" || command = "qcf_y" || command = "qcf_z"
trigger1 = var(47) = 0

; ガンフレイム
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1000
triggerall = statetype != A && fvar(17) = 0
triggerall = command = "qcf_x" || command = "qcf_y" || command = "qcf_z"
trigger1 = ctrl
trigger2 = (stateno = [200,220]) || (stateno = [240,280]) || (stateno = [400,435]) || (stateno = [440,440])
trigger2 = time > 2
trigger3 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 1800
triggerall = statetype = A && fvar(17) = 0
triggerall = command = "qcf_x" || command = "qcf_y" || command = "qcf_z"
trigger1 = var(47) = 0

; サイドワインダー
[State -1]
type = ChangeState
ignorehitpause = 0
value = 1800
triggerall = statetype = A && fvar(17) = 0
triggerall = command = "qcf_x" || command = "qcf_y" || command = "qcf_z"
trigger1 = ctrl
trigger2 = (stateno = [600,681]) 
trigger2 = movecontact
trigger3 = stateno = 7769 && time > 0

;Fロマキャンフラグ
[state -1]
type = varset
triggerall = command = "recovery"
trigger1 = stateno = 1000 && animelemtime(5) < 3 
trigger2 = stateno = 1600 && animelemtime(6) < 0
trigger3 = stateno = 460 && animelemtime(4) < 0
trigger4 = stateno = 1430 && animelemtime(3) < 0
trigger5 = stateno = 1305
trigger6 = stateno = 1050 && animelemtime(6) < 0
trigger7 = stateno = 1600 && animelemtime(6) < 0
var(46) = 1



; Fロマキャン　地上
[State -1]
type = ChangeState
value = 3850
triggerall = statetype != A
triggerall = command = "recovery"
triggerall = power >= 1000
triggerall = var(46) = 0
trigger1 = stateno = 1000 && (animelemtime(5) = [4,7]) 
trigger2 = stateno = 1600 && (animelemtime(6) = [1,2])
trigger3 = stateno = 460 && (animelemtime(4) = [0,1]) 
trigger4 = stateno = 1430 && (animelemtime(8) = [1,3]) 
trigger5 = stateno = 2000 && (animelemtime(10) = [1,4]) 

; Fロマキャン　空中
[State -1]
type = ChangeState
value = 3950
triggerall = statetype = A
triggerall = command = "recovery"
triggerall = power >= 1000
triggerall = var(46) = 0
trigger1 = stateno = 1430 && (animelemtime(3) = [0,3]) 
trigger2 = stateno = 1310 && (animelemtime(1) = [1,5]) 

; ロマキャン　地上
[State -1]
type = ChangeState
value = 3800
triggerall = statetype != A
triggerall = command = "recovery"
triggerall = power >= 2000
trigger1 = stateno = [200,3999]
trigger1 = stateno != [800,805]
trigger1 = stateno != [815,825]
trigger1 = movecontact
trigger1 = var(39) = 0
trigger1 = ctrl = 0

; ロマキャン　空中
[State -1]
type = ChangeState
value = 3900
triggerall = statetype = A
triggerall = command = "recovery"
triggerall = power >= 2000
trigger1 = stateno = [200,3999]
trigger1 = stateno != 800
trigger1 = movecontact
trigger1 = var(39) = 0
trigger1 = ctrl = 0


; Taunt
[State -1]
type = ChangeState
value = 195
triggerall = command = "s"
trigger1 = statetype = S
trigger1 = stateno != 195
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

; ブロッキング
[State -1]
type = ChangeState
value = ifelse(statetype = S,760,ifelse(statetype = C,762,764))
triggerall = command = "xyz"
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,850,800)
triggerall = command = "xa" && command = "holdfwd"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,855,805)
triggerall = command = "xa" && command != "holdfwd"
trigger1 = var(47) = 0

; 空中投げ　前
[State -1]
type = ChangeState
value = 850
trigger1 = statetype = A
trigger1 = ctrl
triggerall = command = "xa" && command = "holdfwd"
trigger2 = stateno = 7769 && time > 0
trigger3 = (stateno = [600,698]) && movecontact

; 空中投げ　後ろ
[State -1]
type = ChangeState
value = 855
trigger1 = statetype = A
trigger1 = ctrl
triggerall = command = "xa"
trigger2 = stateno = 7769 && time > 0
trigger3 = (stateno = [600,698]) && movecontact

; 投げ　前
[State -1]
type = ChangeState
value = 800
trigger1 = statetype != A
trigger1 = ctrl
triggerall = command = "xa" && command = "holdfwd"
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

; 投げ　後ろ
[State -1]
type = ChangeState
value = 805
trigger1 = statetype != A
trigger1 = ctrl
triggerall = command = "xa" && command != "holdfwd"
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 500
triggerall = statetype != A
triggerall = command = "yb"
trigger1 = var(47) = 0


; リ−プ
[State -1]
type = ChangeState
value = 500
trigger1 = statetype != A
triggerall = command = "yb"
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0

; オーバードライブ
[State -1]
type = ChangeState
value = ifelse(statetype = A,775,770)
triggerall = movetype != H
triggerall = command = "x" && command = "b"
triggerall = var(37) = 0
triggerall = life > 1
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0 || stateno = 7769
triggerall = RoundState = 2
triggerall = ishelper = 0

; スペシャルアタック
[State -1]
type = ChangeState
ignorehitpause = 1
value = ifelse(statetype = A,785,781)
triggerall = command = "zc"
triggerall = var(19) = 0 && fvar(9) = 0
triggerall = stateno != [200,4990]
triggerall = stateno != 5900
triggerall = stateno != [5300,5304]
triggerall = stateno != [170,198]
triggerall = stateno = [0,99999]
trigger1 = power >= 3000
trigger1 = RoundState = 2
triggerall = ishelper = 0

;キャンセル2段ジャンプ
[State -1]
ignorehitpause = 0
type = ChangeState
value = 45
triggerall = command = "holdup"
triggerall = statetype = A
triggerall = sysvar(3) = 0
triggerall = hitshakeover
trigger1 = stateno = [600,699]
trigger1 = movecontact 





[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(command = "sjf",75,ifelse(command = "sjb",76,70))
triggerall = statetype != A
triggerall = command = "sjf" || command = "sjb" || command = "sj"
trigger1 = var(47) = 0

;スーパージャンプ
[State -1]
type = ChangeState
value = ifelse(command = "sjf" || command = "sjf2",75,ifelse(command = "sjb" || command = "sjb2",76,70))
triggerall = command = "sj" || command = "sjf" || command = "sjb" 
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0 || stateno = 7710 && time > 0


;スーパージャンプ(ジャンプキャンセル）
[State -1]
type = ChangeState
value = ifelse(command = "sjf" || command = "sjf2",75,ifelse(command = "sjb" || command = "sjb2",76,70))
triggerall = command = "sj" || command = "sj2" || command = "sjf" || command = "sjf2" || command = "sjb" || command = "sjb2"
trigger1 = stateno = 290 && movehit
trigger2 = stateno = 235 && movehit
trigger3 = stateno = 440 && movehit



;ジャンプキャンセル
[State -1]
type = ChangeState
value = 40
triggerall = movehit
trigger1 = command = "holdup" && stateno = 290
trigger2 = command = "holdup" && stateno = 235
trigger3 = command = "holdup" && stateno = 440




[State -1]
type = varset
ignorehitpause = 1
var(47) = 240
triggerall = statetype != A
triggerall = command = "fwd_x" && command != "holddown"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 280
triggerall = statetype != A
triggerall = command = "fwd_z" && command != "holddown"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 250
triggerall = statetype != A
triggerall = command = "holdback" && command != "holddown" && command = "y"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = 290
triggerall = statetype != A
triggerall = command = "fwd_c" && command != "holddown"
trigger1 = var(47) = 0

; Standing light punch (close)
[State -1]
type = ChangeState
value = 240
triggerall = command = "fwd_x" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = 220 && (animelemtime(3) = [1,4])) && prevstateno != 240
trigger4 = (stateno = [200,210]) || (stateno = [400,420]) && (animelemtime(2) = [1,6]) 
trigger4 = movecontact && var(39) != 0

; Standing light punch (close)
[State -1]
type = ChangeState
value = 280
triggerall = command = "fwd_z" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = [200,260]) || (stateno = [400,440]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Standing light punch (close)
[State -1]
type = ChangeState
value = 250
triggerall = command = "holdback" && command != "holddown" && command = "y"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = [200,260]) || (stateno = [400,440]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Standing light punch (close)
[State -1]
type = ChangeState
value = 290
triggerall = command = "fwd_c" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = [200,260]) || (stateno = [400,440]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,600,ifelse(command = "holddown",400,200))
triggerall = command = "x"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,620,ifelse(command = "holddown",420,210))
triggerall = command = "a"
trigger1 = var(47) = 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,610,ifelse(command = "holddown",430,220))
triggerall = command = "y"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,660,ifelse(command = "holddown",435,265))
triggerall = command = "b"
trigger1 = var(47) = 0


[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,640,ifelse(command = "holddown",440,260))
triggerall = command = "z"
trigger1 = var(47) = 0

[State -1]
type = varset
ignorehitpause = 1
var(47) = ifelse(statetype = A,680,ifelse(command = "holddown",460,235))
triggerall = command = "c"
trigger1 = var(47) = 0








; Standing light punch (close)
[State -1]
type = ChangeState
value = 200
triggerall = command = "x" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0


; Standing light punch
[State -1]
type = ChangeState
value = 220
triggerall = command = "y" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = 240 && (animelemtime(5) = [1,4])) 
trigger4 = (stateno = [200,210]) || (stateno = [400,420]) && (animelemtime(2) > 0) 
trigger4 = movecontact && var(39) != 0

; Standing light kick (close)
[State -1]
type = ChangeState
value = 210
triggerall = command = "a" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = [200,200]) || (stateno = [400,400]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Standing light kick
[State -1]
type = ChangeState
value = 265
triggerall = command = "b" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = stateno = 210 && animelemtime(2) > 0
trigger4 = (stateno = [200,220]) || (stateno = [400,430]) && (animelemtime(2) > 0) 
trigger4 = movecontact && var(39) != 0

; Standing hard punch (close)
[State -1]
type = ChangeState
value = 260
triggerall = command = "z" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = [200,240]) || (stateno = [400,435]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0
trigger4 = stateno = 250 && (animelemtime(5) = [1,4])

; Standing hard kick
[State -1]
type = ChangeState
value = 235
triggerall = command = "c" && command != "holddown"
trigger1 = statetype = S
trigger1 = ctrl
trigger2 = stateno = 7700 && time > 0
trigger3 = (stateno = [200,250]) || (stateno = [400,435]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Crouching light punch
[State -1]
type = ChangeState
value = 400
triggerall = command = "x" && command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 7710 && time > 0
trigger3 = (stateno = 420 && animelemtime(4) > 0)

; Crouching light kick
[State -1]
type = ChangeState
value = 420
triggerall = command = "a" && command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 7710 && time > 0
trigger3 = (stateno = 400 && animelemtime(2) > 0)
trigger4 = (stateno = [200,200]) || (stateno = [400,400]) && (animelemtime(2) > 0) 
trigger4 = movecontact && var(39) != 0

; Crouching hard punch
[State -1]
type = ChangeState
value = 430
triggerall = command = "y" && command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 7710 && time > 0
trigger3 = (stateno = [200,210]) || (stateno = [400,420]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Crouching hard punch
[State -1]
type = ChangeState
value = 435
triggerall = command = "b" && command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 7710 && time > 0
trigger3 = (stateno = [200,220]) || (stateno = [400,430]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Crouching hard punch
[State -1]
type = ChangeState
value = 440
triggerall = command = "z" && command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 7710 && time > 0
trigger3 = (stateno = 210 && movecontact) 
trigger4 = (stateno = 230 && movecontact)
trigger5 = (stateno = [200,260]) || (stateno = [400,435]) && (animelemtime(2) > 0) 
trigger5 = movecontact && var(39) != 0

; Crouching hard kick
[State -1]
type = ChangeState
value = 460
triggerall = command = "c" && command = "holddown"
trigger1 = statetype = C
trigger1 = ctrl
trigger2 = stateno = 7710 && time > 0
trigger3 = (stateno = [200,260]) || (stateno = [400,440]) && (animelemtime(2) > 0) 
trigger3 = movecontact && var(39) != 0

; Jumping light punch
[State -1]
type = ChangeState
value = 600
triggerall = command = "x"
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 7769 && movecontact = 0

; Jumping mid punch
[State -1]
type = ChangeState
value = 610
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 621
trigger3 = movecontact
trigger4 = stateno = 620 || stateno = 660
trigger4 = movecontact && p2statetype = A
trigger5 = stateno = 7769 && movecontact = 0

; Jumping forward light kick
[State -1]
type = ChangeState
value = 620
triggerall = command = "a"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 610 || stateno = 600
trigger3 = movecontact && p2statetype = A
trigger4 = stateno = 7769 && movecontact = 0


; Jumping hard punch
[State -1]
type = ChangeState
value = 640
triggerall = command = "z"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 621
trigger3 = movecontact
trigger4 = stateno = 631
trigger4 = movecontact
trigger5 = stateno = 661
trigger5 = movecontact
trigger6 = stateno = 611
trigger6 = movecontact
trigger7 = stateno = 651
trigger7 = movecontact
trigger8 = stateno = 600 || stateno = 610 || stateno = 620 || stateno = 660
trigger8 = movecontact && p2statetype = A
trigger9 = stateno = 7769 && movecontact = 0


; Jumping hard kick
[State -1]
type = ChangeState
value = 660
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 621
trigger3 = movecontact
trigger4 = stateno = 611
trigger4 = movecontact
trigger5 = stateno = 600 || stateno = 610 || stateno = 620
trigger5 = movecontact && p2statetype = A
trigger6 = stateno = 7769 && movecontact = 0


; Jumping knockdown attack
[State -1]
type = ChangeState
value = 680
triggerall = statetype = A
triggerall = command = "c"
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 621
trigger3 = movecontact
trigger4 = stateno = 631
trigger4 = movecontact
trigger5 = stateno = 661
trigger5 = movecontact
trigger6 = stateno = 610
trigger6 = animelemtime(4) = [0,5]
trigger7 = stateno = 641
trigger7 = movecontact
trigger8 = stateno = 651
trigger8 = movecontact
trigger9 = stateno = 600 || stateno = 610 || stateno = 620 || stateno = 660
trigger9 = movecontact && p2statetype = A
trigger10 = stateno = 7769 && movecontact = 0


; ダッシュ
[State -1]
type = ChangeState
value = 100
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = command != "holddown"
trigger1 = ctrl
trigger1 = stateno != [120,155]
trigger1 = stateno != [100,101]
trigger1 = prevstateno != [100,109]

; バックステップ
[State -1]
type = ChangeState
value = 105
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = command != "holddown"
trigger1 = ctrl
trigger1 = stateno != [120,155]
trigger1 = prevstateno != [100,109]



;*********************** cpu ******************************************

[State -1]
type = ChangeState
value = 3000
triggerall = var(30) = 1 && fvar(17) = 0
triggerall = win = 0
triggerall = random < 125
triggerall = statetype != A
trigger1 = ctrl
triggerall = power >= 3000
trigger1 = (prevstateno = [5220,5230]) || prevstateno = 5120
triggerall = p2dist x = [-40,40]

[State -1]
type = ChangeState
value = 2100
triggerall = var(30) = 1 && fvar(17) = 0
triggerall = win = 0
triggerall = random < 125
triggerall = statetype != A
trigger1 = ctrl
triggerall = power >= 1000
trigger1 = (prevstateno = [5220,5230]) || prevstateno = 5120
triggerall = p2dist x = [-40,40]

[State -1]
type = ChangeState
ignorehitpause = 1
value = 1100
triggerall = var(30) = 1 && fvar(17) = 0
triggerall = statetype != A
triggerall = ctrl
triggerall = p2dist x = [0,80]
triggerall = Random < 500
trigger1 = p2dist y >= -80
trigger1 = p2statetype = A
trigger1 = p2stateno  != [5100,5122]
trigger1 = var(2) = 0
triggerall = win = 0
triggerall =  PrevStateNo != [7900,7990]


[State -1]
type = ChangeState
value = 210
triggerall = var(30) = 1
triggerall = win = 0
triggerall = random = [501,780]
triggerall = statetype != A
trigger1 = ctrl || stateno = 7700 || stateno = 7710
trigger1 = p2dist x = [0,70]
trigger1 = p2dist y > -30 && (p2stateno != [5100,5120])


[State -1]
type = ChangeState
value = 1000
triggerall = var(30) = 1 && fvar(17) = 0
triggerall = win = 0
triggerall = random < 125
triggerall = statetype != A
triggerall = ctrl
trigger1 = numprojID(1000) = 0
triggerall = p2dist x = [190,400] 
trigger1 = p2statetype != A


[State -1]
type = ChangeState
value = 1500
triggerall = var(30) = 1 && fvar(17) = 0
triggerall = win = 0
triggerall = random < 125
triggerall = statetype != A
triggerall = ctrl
triggerall = p2dist x = [0,80]
trigger1 = p2statetype != A


; Crouching hard kick
[State -1]
type = ChangeState
value = 250
triggerall = var(30) = 1
triggerall = win = 0
triggerall = random < 300
triggerall = statetype != A
trigger1 = ctrl
triggerall = p2dist x = [70,100]

; Crouching hard kick
[State -1]
type = ChangeState
value = 260
triggerall = var(30) = 1
triggerall = win = 0
triggerall = stateno = 250
trigger1 = movecontact



; Crouching hard kick
[State -1]
type = ChangeState
value = 235
triggerall = var(30) = 1
triggerall = win = 0
triggerall = random < 250
triggerall = statetype != A
trigger1 = ctrl
triggerall = p2dist x = [0,70]


; Crouching hard kick
[State -1]
type = ChangeState
value = 500
triggerall = var(30) = 1
triggerall = win = 0
trigger1 = random < 50
triggerall = statetype != A
trigger1 = ctrl
trigger1 = p2dist x = [0,80]



; jump
[State -1]
type = ChangeState
value = 40
triggerall = var(30) = 1
triggerall = statetype != A
triggerall = ctrl
triggerall = p2dist x = [120,260]
trigger1 = random < 100
triggerall = var(2) != 1
triggerall = win = 0

; 滞空Ｊ
[State -1]
type = ChangeState
value = 40
triggerall = var(30) = 1
triggerall = random < 250
triggerall = statetype != A
triggerall = ctrl
triggerall = p2dist x = [0,80]
trigger1 = p2dist y >= -80
trigger1 = p2statetype = A
triggerall = win = 0

;空中投げ
[State -1, Jump]
type = ChangeState
value = ifelse(random < 500,850,855)
triggerall = statetype = A
triggerall = var(30) = 1
trigger1 = ctrl
trigger1 = p2dist x = [0,44]
trigger1 = p2dist y = [-30,30]
triggerall = win = 0

;斜め空中強P
[State -1, Jump Strong Kick]
type = ChangeState
value = 680
triggerall = statetype = A
triggerall = var(30) = 1
triggerall = random < 150
trigger1 = ctrl
trigger1 = p2dist x = [0,80]
trigger1 = p2dist y = [-20,0]
triggerall = win = 0

;ぶっきらぼうコンボ1
[State -1, Jump Strong Kick]
type = ChangeState
value = 1000
triggerall = prevstateno = 1501 && fvar(17) = 0
triggerall = var(30) = 1
trigger1 = ctrl
trigger1 = stateno = [0,20] 
triggerall = win = 0

;ぶっきらぼうコンボ1
[State -1, Jump Strong Kick]
type = ChangeState
value = 3850
triggerall = power >= 1000
triggerall = var(30) = 1
trigger1 = animelemtime(5) = 4
trigger1 = stateno = 1000
triggerall = win = 0

;ぶっきらぼうコンボ1
[State -1, Jump Strong Kick]
type = ChangeState
value = 1401
triggerall = prevstateno = 3850
triggerall = var(30) = 1 && fvar(17) = 0
trigger1 = ctrl
trigger1 = stateno = [0,20] 
triggerall = win = 0

[state 1,1]
type = nothitby
trigger1 = win
value = SCA


[state -1,1]
type = varset
trigger1 = win && (life*100/const(data.life)) <= 10
fvar(39) = 1


[state -1,1]
type = varset
trigger1 = p2movetype != H && fvar(15) != 1.0
fvar(15) = 1.0
ignorehitpause = 1

[state -1,1]
type = varadd
trigger1 = movehit = 1 || projhit = 1 
triggerall = stateno != [2000,4600]
fvar(15) = 0.2
persistent = 0
ignorehitpause = 0

[state -1,1]
type = varset
trigger1 = var(37) = 1 && life < 2
var(37) = 2
ignorehitpause = 1

[State -1,over drive]
type = Explod
trigger1 = var(37) = 0 && numexplod(70) = 0 && ishelper = 0
pos = ifelse(var(15) = 2,313,7),26
postype = left
ignorehitpause = 1
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
anim = f770
ID = 70

[State -1,over drive]
type = Explod
trigger1 = var(37) = 1 && numexplod(71) = 0 && ishelper = 0
pos = ifelse(var(15) = 2,313,7),26
postype = left
ignorehitpause = 1
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
anim = f771
ID = 71

[State -1,over drive]
type = Explod
trigger1 = var(37) = 2 && numexplod(72) = 0 && ishelper = 0
pos = ifelse(var(15) = 2,313,7),26
postype = left
ignorehitpause = 1
sprpriority = -1
removetime = -1
bindtime = -1
ownpal = 1
anim = f772
ID = 72

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = var(37) != 0 && ishelper = 0
trigger1 = numexplod(70) = 1 
ignorehitpause = 1
ID = 70


[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = var(37) != 1 && ishelper = 0
trigger1 = numexplod(71) = 1 
ignorehitpause = 1
ID = 71


[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = var(37) != 2 && ishelper = 0
trigger1 = numexplod(72) = 1 
ignorehitpause = 1
ID = 72

[state -1,1]
type = lifeadd
trigger1 = fvar(16) != 0 && win = 0 && ishelper = 0
value = -1
kill = 0
persistent = 0
ignorehitpause = 1

[state -1,1]
type = varadd
trigger1 = fvar(16) != 0 && (p2stateno = [4800,5400]) && p2movetype = H && ishelper = 0
fvar(16) = -0.1
persistent = 0
ignorehitpause = 1

[state -1,1]
type = varadd
trigger1 = fvar(16) != 0 && ishelper = 0
fvar(16) = -0.2
persistent = 0
ignorehitpause = 1

[state -1,1]
type = varset
trigger1 = fvar(16) < 0 && ishelper = 0 && stateno != 4845
fvar(16) = 0
persistent = 0
ignorehitpause = 1

[State -1,over drive]
type = Explod
trigger1 = fvar(16) != 0 && numexplod(75) = 0 && ishelper = 0
pos = 0,0
postype = p1
ignorehitpause = 1
sprpriority = -5
removetime = -1
bindtime = -1
ownpal = 1
anim = f220
velocity = 0,0
ID = 75

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = fvar(16) = 0 && ishelper = 0
trigger1 = numexplod(75) = 1 
ignorehitpause = 1
ID = 75



[state -1,1]
type = varadd
trigger1 = fvar(17) != 0 && (p2stateno = [4800,5400]) && p2movetype = H && ishelper = 0
fvar(17) = -0.1
persistent = 0
ignorehitpause = 1

[state -1,1]
type = varadd
trigger1 = fvar(17) != 0 && ishelper = 0
fvar(17) = -0.3
persistent = 0
ignorehitpause = 1

[state -1,1]
type = varset
trigger1 = fvar(17) < 0 && ishelper = 0
fvar(17) = 0
persistent = 0
ignorehitpause = 1

[State -1,over drive]
type = Explod
trigger1 = fvar(17) != 0 && numexplod(76) = 0 && ishelper = 0
pos = 0,-65
postype = p1
ignorehitpause = 1
sprpriority = -5
removetime = -1
bindtime = -1
ownpal = 1
anim = f221
velocity = 0,0
scale = 2,2
ID = 76

[State -2,RemoveExplod]
type = RemoveExplod
trigger1 = fvar(17) = 0 && ishelper = 0
trigger1 = numexplod(76) = 1 
ignorehitpause = 1
ID = 76